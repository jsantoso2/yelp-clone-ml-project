{"version":3,"sources":["components/searchresults.js","components/header.js","components/home.js","components/users.js","components/business.js","components/writeareview.js","components/login.js","components/signup.js","components/maincomponent.js","App.js","serviceWorker.js","index.js","images/yelp_logo.png","images/five.JPG","images/four.JPG","images/three.JPG","images/two.JPG","images/one.JPG","images/four_half.JPG","images/three_half.JPG","images/two_half.JPG","images/one_half.JPG","images/zero.JPG","images/login_image.png","images/background_image.jpg","images/yelp_icon.png"],"names":["SearchResults","props","hideOption","business","style","backgroundColor","maxWidth","margin","map","b","to","business_id","key","name","withStyles","selectbar","height","width","marginTop","marginLeft","searchbar","locationsearchbar","locationSearchButton","marginBottom","useState","setBusiness","useEffect","fetch","mode","then","res","json","data","catch","console","log","searchTerm","setSearchTerm","selectedOption","setSelectedOption","setHideOption","location","setLocation","business_near","setBusinessNear","isLoading","setLoading","lat_storage","sessionStorage","getItem","split","lon_storage","features","text","className","Grid","container","spacing","item","xs","sm","md","src","yelp_logo","alt","Select","displayEmpty","value","onChange","e","target","variant","classes","MenuItem","Restaurant","Motorcycle","ShoppingBasket","TextField","placeholder","business_data","result","n","filter","toLowerCase","includes","elem","dynamicSearch","searchresults","event","Button","onClick","context","setItem","center","color","Search","display","alignItems","removeItem","home","background_image","Card","CardMedia","photo","component","title","stars_rating","stars","five","four_half","four","three_half","three","two_half","two","one_half","one","zero","review_count","categories","city","state","Skeleton","animation","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","isGeolocationAvailable","isGeolocationEnabled","coords","latitude","longitude","Users","user_id","rp","match","params","id","user_data","setUserData","user_reviews","setUserReviews","isLoadingUser","setLoadingUser","isLoadingReview","setLoadingReview","review","fontSize","dollar_string","attributes","RestaurantsPriceRange2","parseInt","raw_categories","splitted","trim","i","length","splice","join","filterCategories","address","postal_code","rating","date","d","useful","funny","cool","profile_pic","maxHeight","elite","slice","yearElite","friends","average_stars","viewBox","yelping_since","Business","viewport","setViewport","selectedPin","setSelectedPin","setBusinessData","business_reviews","setBusinessReviews","isLoadingBusiness","setLoadingBusiness","business_data_attributes","retrieve_stars","background","marginRight","Avatar","business_data_hours","currDay","Date","getDay","currTimeHours","getHours","currTimeMinutes","getMinutes","preprocessHours","openHours","oap","oh","om","substring","ch","cm","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","openCloseToday","hours","mapStyle","mapboxApiAccessToken","onViewportChange","preventDefault","yelp_icon","onClose","Object","keys","index","attribute_keys","replace","processAttributesKeys","attribute_val","charAt","toUpperCase","processAttributesFurther","WriteAReview","bid","uid","history","useHistory","starval","setStarval","currText","setCurrText","currPrediction","setCurrPrediction","currPredictionProba","setCurrPredictionProba","isopenDialog","setIsOpenDialog","handleClose","isHalf","primaryColor","secondaryColor","starGap","size","currdate","posting_data","getFullYear","getMonth","getDate","getSeconds","method","body","JSON","stringify","headers","push","type","proba","parseFloat","toFixed","CircularProgress","Box","mr","LinearProgress","minWidth","Dialog","open","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","Login","useForm","register","handleSubmit","errorMsg","setErrorMsg","errorState","setErrorState","justify","fill","align","noValidate","onSubmit","values","re","email","password","test","message","label","inputRef","error","helperText","paddingLeft","justifyContent","login_image","Signup","firstname","lastname","paddingRight","Main","exact","path","render","routerProps","React","Component","App","Boolean","window","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"+bA2BeA,MAtBf,SAAuBC,GAEnB,IAAwBC,EAAYC,EAapC,OACI,yBAAKC,MAAO,CAACC,gBAAiB,QAASC,SAAU,QAASC,OAAQ,sBAd9CL,EAeAD,EAAMC,WAfMC,EAeMF,EAAME,UAdzB,IAAfD,EACQ,8BAEAC,EAASK,KAAI,SAACC,GAAD,OACb,kBAAC,IAAD,CAAMC,GAAE,oBAAeD,EAAEE,aAAeC,IAAKH,EAAEE,aAC3C,yBAAKP,MAAO,GAAIQ,IAAKH,EAAEE,aAAcF,EAAEI,a,wUCmVhDC,kBAlUA,CACXC,UAAW,CACPV,gBAAiB,QACjBW,OAAQ,OACRC,MAAO,QACPC,UAAW,OACXC,WAAY,QAEhBC,UAAW,CACPf,gBAAiB,QACjBW,OAAQ,OACRC,MAAO,QACPV,OAAQ,qBAEZc,kBAAmB,CACfhB,gBAAiB,QACjBW,OAAQ,OACRC,MAAO,QACPV,OAAQ,qBAEZe,qBAAsB,CAClBJ,UAAW,OACXK,aAAc,OACdP,OAAQ,OACRC,MAAO,SA0SAH,EAtSf,SAAgBb,GAAM,MAMcuB,mBAAS,IANvB,mBAMXrB,EANW,KAMDsB,EANC,KASlBC,qBAAU,WACNC,MAAM,wEAAyE,CAACC,KAAM,SAASC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GACxHP,EAAYO,MACbC,OAAM,WACLC,QAAQC,IAAI,mDAEjB,IAfe,MAkBkBX,mBAAS,IAlB3B,mBAkBXY,EAlBW,KAkBCC,EAlBD,OAoB0Bb,mBAAS,IApBnC,mBAoBXc,EApBW,KAoBKC,EApBL,OAsBkBf,oBAAS,GAtB3B,mBAsBXtB,EAtBW,KAsBCsC,EAtBD,OAwBchB,mBAAS,IAxBvB,mBAwBXiB,EAxBW,KAwBDC,EAxBC,OA0BuBlB,mBAAS,IA1BhC,mBA0BXmB,EA1BW,KA0BIC,EA1BJ,QA4BcpB,oBAAS,GA5BvB,qBA4BXqB,GA5BW,MA4BAC,GA5BA,MAyKlB,OA3GApB,qBAAU,WAEN,IAAMqB,EAAcC,eAAeC,QAAQ,UAAUC,MAAM,KAAK,GAC1DC,EAAcH,eAAeC,QAAQ,UAAUC,MAAM,KAAK,GAGhEvB,MAAM,qDAAuDwB,EAAc,IAAMJ,EAAc,mHAC9FlB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GAE1BU,EAAYV,EAAKoB,SAAS,GAAGC,KAAO,IAAMrB,EAAKoB,SAAS,GAAGC,SAC5DpB,OAAM,WACLC,QAAQC,IAAI,oDAKhBR,MAAM,sFAAwFoB,EAAc,QAAUI,EAAa,CAACvB,KAAM,SAASC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GAC5KY,EAAgBZ,GAChBc,IAAW,MACZb,OAAM,WACLC,QAAQC,IAAI,uDACZW,IAAW,QAUhB,IA6EC,6BACA,yBAAKQ,UAAY,UACb,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GAErB,kBAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACzB,kBAAC,IAAD,CAAMnD,GAAG,KACL,yBAAK4C,UAAY,eAAeQ,IAAOC,IAAWC,IAAM,WAIhE,kBAACT,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACzB,kBAACI,EAAA,EAAD,CAAQC,cAAY,EAACC,MAAO7B,EAAgB8B,SA5HtC,SAACC,GACnB9B,EAAkB8B,EAAEC,OAAOH,QA4HHI,QAAU,WAAWjB,UAAWrD,EAAMuE,QAAQzD,WACtD,kBAAC0D,EAAA,EAAD,CAAUN,MAAM,IAAhB,uBACA,kBAACM,EAAA,EAAD,CAAUN,MAAO,cAAe,kBAACO,EAAA,EAAD,MAAhC,gBACA,kBAACD,EAAA,EAAD,CAAUN,MAAO,YAAa,kBAACQ,EAAA,EAAD,MAA9B,aACA,kBAACF,EAAA,EAAD,CAAUN,MAAO,UAAW,kBAACS,EAAA,EAAD,MAA5B,aAIR,kBAACrB,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC1B,kBAACgB,EAAA,EAAD,CAAWV,MAAS/B,EAAYgC,SA/JzB,SAACC,GAEG,KAAnBA,EAAEC,OAAOH,OACT9B,EAAcgC,EAAEC,OAAOH,OACvB3B,GAAc,KAGdH,EAAcgC,EAAEC,OAAOH,OACvB3B,GAAc,KAwJM+B,QAAU,WAAWO,YAAY,gCACjCxB,UAAWrD,EAAMuE,QAAQpD,YAErC,kBAAC,EAAD,CAAejB,SAtJT,WAClB,IAAM4E,EAAgB5E,EAGhB6E,EAASD,EAAcvE,KAAI,SAAAyE,GAAC,OAAIA,EAAEpE,QACdqE,QAAO,SAAArE,GAAI,OAAIA,EAAKsE,cAAcC,SAAShD,EAAW+C,kBAGhF,OADmBJ,EAAcG,QAAO,SAAAG,GAAI,OAAIL,EAAOI,SAASC,EAAKxE,SA+IhCyE,GAAiBpF,WAAYA,EAAYoD,UAAWrD,EAAMuE,QAAQe,iBAG/F,kBAAChC,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC1B,yBAAKP,UAAU,kBACf,kBAACuB,EAAA,EAAD,CAAWV,MAAS1B,EAAU2B,SAxGjB,SAACoB,GAC1B9C,EAAY8C,EAAMlB,OAAOH,QAwGDI,QAAU,WAAWO,YAAY,WACjCxB,UAAWrD,EAAMuE,QAAQnD,oBAErC,kBAACoE,EAAA,EAAD,CAAQC,QAvGH,SAACF,GAGlB7D,MAAM,qDAAuDc,EAAW,8HACvEZ,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GAE1BU,EAAYV,EAAKoB,SAAS,GAAGC,KAAO,IAAMrB,EAAKoB,SAAS,GAAGuC,QAAQ,GAAGtC,MAGtEL,eAAe4C,QAAQ,SAAU,CAAC5D,EAAKoB,SAAS,GAAGyC,OAAO,GAAI7D,EAAKoB,SAAS,GAAGyC,OAAO,KAEtF,IAAM9C,EAAcC,eAAeC,QAAQ,UAAUC,MAAM,KAAK,GAC1DC,EAAcH,eAAeC,QAAQ,UAAUC,MAAM,KAAK,GAIhEvB,MAAM,sFAAwFoB,EAAc,QAAUI,EAAa,CAACvB,KAAM,SAASC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GAC5KY,EAAgBZ,MACjBC,OAAM,WACLC,QAAQC,IAAI,iDACZW,IAAW,SAEhBb,OAAM,WACLC,QAAQC,IAAI,wEAgF2BoC,QAAQ,YAAYuB,MAAM,UAAUxC,UAAWrD,EAAMuE,QAAQlD,sBACxF,kBAACyE,EAAA,EAAD,WAOhB,yBAAK3F,MAAO,CAACC,gBAAiB,YACxB2C,eAAeC,QAAQ,YACrB,yBAAK7C,MAAO,CAAC4F,QAAS,OAAQC,WAAY,WACtC,wBAAI7F,MAAO,CAAC0F,MAAO,QAAS3E,WAAY,OAAQD,UAAW,OAAQK,aAAc,SAAU,YAAcyB,eAAeC,QAAQ,aAChI,kBAAC,IAAD,CAAMvC,GAAG,KACL,kBAAC+E,EAAA,EAAD,CAAQrF,MAAO,CAAC0F,MAAO,QAAS3E,WAAY,OAAQd,gBAAiB,SAAUkE,QAAQ,WAAWuB,MAAM,UAAUJ,QAtDjH,WAEjB1C,eAAekD,WAAW,WAC1BlD,eAAekD,WAAW,cAmDV,YAIR,6BACI,kBAAC,IAAD,CAAMxF,GAAG,UACL,kBAAC+E,EAAA,EAAD,CAAQrF,MAAO,CAAC0F,MAAO,QAAS3E,WAAY,OAAQd,gBAAiB,QAASa,UAAW,OAAQK,aAAc,SAA/G,UAEJ,kBAAC,IAAD,CAAMb,GAAG,WACL,kBAAC+E,EAAA,EAAD,CAAQrF,MAAO,CAAC0F,MAAO,QAAS3E,WAAY,OAAQd,gBAAiB,QAASa,UAAW,OAAQK,aAAc,SAA/G,aAMhB,6BACMtB,EAAMkG,OAAStD,GACb,6BACA,yBAAKS,UAAU,sBACX,yBAAKA,UAAU,WAAWQ,IAAOsC,IAAkBpC,IAAM,eACzD,wBAAIV,UAAU,WAAd,kCACA,uBAAGA,UAAU,YAAb,wBAEJ,wBAAIA,UAAU,WAAd,6BACA,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACpBd,EAAcnC,KAAI,SAAAL,GAAQ,OACvB,kBAACoD,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGhD,IAAKT,EAASQ,aACpC,kBAAC0F,EAAA,EAAD,CAAM/C,UAAU,oBACZ,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,0BACX,kBAACgD,EAAA,EAAD,CAAWxC,IAAK3D,EAASoG,MAAOC,UAAU,MAAMC,MAAM,WACtD,kBAAC,IAAD,CAAM/F,GAAE,oBAAeP,EAASQ,cAC5B,4BAAKR,EAASU,QAGtB,yBAAKyC,UAAU,wBAjHtB,KADDoD,EAmH4BvG,EAASwG,OAjH7C,yBAAK7C,IAAK8C,IAAM5C,IAAI,YAAYV,UAAU,mBAC1B,MAAjBoD,EACA,yBAAK5C,IAAK+C,IAAW7C,IAAI,cAAcV,UAAU,mBAChC,IAAjBoD,EACA,yBAAK5C,IAAKgD,IAAM9C,IAAI,YAAYV,UAAU,mBACzB,MAAjBoD,EACA,yBAAK5C,IAAKiD,IAAY/C,IAAI,cAAcV,UAAU,mBACjC,IAAjBoD,EACA,yBAAK5C,IAAKkD,IAAOhD,IAAI,YAAYV,UAAU,mBAC1B,MAAjBoD,EACA,yBAAK5C,IAAKmD,IAAUjD,IAAI,cAAcV,UAAU,mBAC/B,IAAjBoD,EACA,yBAAK5C,IAAKoD,IAAKlD,IAAI,YAAYV,UAAU,mBACxB,MAAjBoD,EACA,yBAAK5C,IAAKqD,IAAUnD,IAAI,cAAcV,UAAU,mBAC/B,IAAjBoD,EACA,yBAAK5C,IAAKsD,IAAKpD,IAAI,YAAYV,UAAU,mBAExC,yBAAKQ,IAAKuD,IAAMrD,IAAI,YAAYV,UAAU,mBAgGtB,2BAAInD,EAASmH,aAAe,aAEhC,2BAAG,gCAASnH,EAASoH,aACrB,2BAAIpH,EAASqH,KAAO,KAAOrH,EAASsH,UAvH7C,IAACf,OA8HX7D,GACD,6BACI,kBAAC6E,EAAA,EAAD,CAAUC,UAAU,OAAOpD,QAAQ,OAAOnE,MAAO,CAACa,MAAO,OAAQD,OAAQ,QAASO,aAAc,UAChG,kBAACgC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACrB,kBAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACyC,EAAA,EAAD,CAAM/C,UAAU,oBACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,aAGnD,kBAACuC,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACyC,EAAA,EAAD,CAAM/C,UAAU,oBACR,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,aAGvD,kBAACuC,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACyC,EAAA,EAAD,CAAM/C,UAAU,oBACR,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,eAM/D,mCC9TD4G,4BAAW,CAAEC,gBAAiB,CAAEC,oBAAoB,GAAUC,oBAAqB,KAAnFH,EAjBf,SAAe3H,GACX,OACKA,EAAM+H,uBAEF/H,EAAMgI,qBAEPhI,EAAMiI,OACN,6BACKlF,eAAe4C,QAAQ,SAAU,CAAC3F,EAAMiI,OAAOC,SAAUlI,EAAMiI,OAAOE,YACvE,kBAAC,EAAD,CAAQjC,MAAM,KAGlB,iEAPA,2DAFA,6E,OCiTGkC,OArSf,SAAgBpI,GAEZ,IAAMqI,EAAUrI,EAAMsI,GAAGC,MAAMC,OAAOC,GAFpB,EAKelH,mBAAS,IALxB,mBAKXmH,EALW,KAKAC,EALA,OAQqBpH,mBAAS,IAR9B,mBAQXqH,EARW,KAQGC,EARH,OAWsBtH,oBAAS,GAX/B,mBAWXuH,EAXW,KAWIC,EAXJ,OAY0BxH,oBAAS,GAZnC,mBAYXyH,EAZW,KAYMC,EAZN,KAwKlB,OAxJAxH,qBAAU,WAENC,MAAM,iFAAmF2G,EAAS,CAAC1G,KAAM,SAASC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GAC3I4G,EAAY5G,GACZgH,GAAe,MAChB/G,OAAM,WACLC,QAAQC,IAAI,0CACZ6G,GAAe,MAInBrH,MAAM,mFAAqF2G,EAAS,CAAC1G,KAAM,SAASC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GAC7I8G,EAAe9G,GACfkH,GAAiB,MAClBjH,OAAM,WACLC,QAAQC,IAAI,4CACZ+G,GAAiB,QA8EtB,CAACZ,IA2DA,6BAEI,kBAAC,EAAD,MACA,kBAAC/E,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACrB,kBAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAE1B,wBAAIzD,MAAO,CAACG,OAAQ,OAAQuF,MAAO,YAAnC,YACC+C,EAAarI,KAAI,SAAA2I,GAAM,OACpB,kBAAC9C,EAAA,EAAD,CAAM/C,UAAU,cAAc1C,IAAKuI,EAAOT,IACtC,yBAAKpF,UAAU,sBACX,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,eAAeQ,IAAKqF,EAAO5C,MAAOvC,IAAI,kBACrD,6BACI,kBAAC,IAAD,CAAMtD,GAAE,oBAAeyI,EAAOxI,cAC1B,4BAAKwI,EAAOtI,OAEhB,yBAAKT,MAAO,CAAC4F,QAAS,OAAQC,WAAY,SAAUmD,SAAU,QAC1D,4BA/CjBC,EA+CmCF,EAAOG,WAAWC,uBA9CxC,IAA5BC,SAASH,GACF,QAC4B,IAA5BG,SAASH,GACT,OAC4B,IAA5BG,SAASH,GACT,MAC4B,IAA5BG,SAASH,GACT,KAC4B,IAA5BG,SAASH,GACT,IAEA,IAmCyB,gBACA,2BA/Bf,SAACI,GAEtB,IADA,IAAMC,EAAWD,EAAevG,MAAM,KAAK1C,KAAI,SAAAkD,GAAI,OAAEA,EAAKiG,UAClDC,EAAIF,EAASG,OAAS,EAAGD,GAAK,EAAGA,IACJ,gBAA9BF,EAASE,GAAGzE,eAAiE,cAA9BuE,EAASE,GAAGzE,eAA+D,SAA9BuE,EAASE,GAAGzE,eAC1E,UAA9BuE,EAASE,GAAGzE,eACXuE,EAASI,OAAOF,EAAG,GAG3B,OAAOF,EAASK,KAAK,MAuBmBC,CAAiBb,EAAO5B,cAEhC,uBAAGnH,MAAO,CAACgJ,SAAU,QAASD,EAAOc,SACrC,uBAAG7J,MAAO,CAACgJ,SAAU,QAASD,EAAO3B,KAAO,KAAO2B,EAAO1B,MAAQ,IAAM0B,EAAOe,eAGvF,yBAAK9J,MAAO,CAAC4F,QAAS,OAAQC,WAAY,SAAU/E,UAAW,SA9ElE,KADDwF,EAgFwByC,EAAOgB,QA9EvC,yBAAKrG,IAAK8C,IAAM5C,IAAI,YAAYV,UAAU,eAC1B,MAAjBoD,EACA,yBAAK5C,IAAK+C,IAAW7C,IAAI,cAAcV,UAAU,eAChC,IAAjBoD,EACA,yBAAK5C,IAAKgD,IAAM9C,IAAI,YAAYV,UAAU,eACzB,MAAjBoD,EACA,yBAAK5C,IAAKiD,IAAY/C,IAAI,cAAcV,UAAU,eACjC,IAAjBoD,EACA,yBAAK5C,IAAKkD,IAAOhD,IAAI,YAAYV,UAAU,eAC1B,MAAjBoD,EACA,yBAAK5C,IAAKmD,IAAUjD,IAAI,cAAcV,UAAU,eAC/B,IAAjBoD,EACA,yBAAK5C,IAAKoD,IAAKlD,IAAI,YAAYV,UAAU,eACxB,MAAjBoD,EACA,yBAAK5C,IAAKqD,IAAUnD,IAAI,cAAcV,UAAU,eAC/B,IAAjBoD,EACA,yBAAK5C,IAAKsD,IAAKpD,IAAI,YAAYV,UAAU,eAExC,yBAAKQ,IAAKuD,IAAMrD,IAAI,YAAYV,UAAU,eA6D1B,2BAAI6F,EAAOiB,OAEf,uBAAGhK,MAAO,CAACmB,aAAc,SAAU4H,EAAO9F,MAC1C,yBAAKC,UAAU,wBACX,6BACI,0BAAM+G,EAAE,0QAEZ,2BAAI,UAAYlB,EAAOmB,QACvB,6BACI,0BAAMD,EAAE,kRAEZ,2BAAI,SAAWlB,EAAOoB,OACtB,6BACI,0BAAMF,EAAE,mbAEZ,2BAAI,QAAUlB,EAAOqB,SAhG9B,IAAC9D,EAyBD2C,KA8ELJ,EACE,6BACI,kBAAC5C,EAAA,EAAD,CAAM/C,UAAU,eACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,YAE/C,kBAACqF,EAAA,EAAD,CAAM/C,UAAU,eACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,YAE/C,kBAACqF,EAAA,EAAD,CAAM/C,UAAU,eACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,aAGlD,+BAIT,kBAACuC,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GACvBkF,EAiDC,kBAAC1C,EAAA,EAAD,CAAM/C,UAAU,eACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,YAjD/C,kBAACqF,EAAA,EAAD,CAAM/C,UAAU,eACZ,yBAAKA,UAAU,uBACX,yBAAKQ,IAAK6E,EAAU8B,YAAarK,MAAO,CAACsK,UAAW,QAASnJ,aAAc,QAASyC,IAAI,wFACxF,4BAAK2E,EAAU9H,MACf,yBAAKT,MAAO,CAAC4F,QAAS,OAAQC,WAAY,SAAU/E,UAAW,OAAQK,aAAc,SAChFoH,EAAUgC,MACPhC,EAAUgC,MAAMzH,MAAM,KAAK0H,OAAO,GAAGpK,KAAI,SAAAqK,GACrC,OAAQ,yBAAKvH,UAAU,aAAa1C,IAAKiK,GAAjC,UAAoDA,EAAUD,OAAO,OAEjF,+BAER,yBAAKtH,UAAU,gBACX,6BACI,0BAAM+G,EAAE,+KACR,0BAAMA,EAAE,oLAEZ,2BAAI1B,EAAUmC,QAAU,YACxB,6BACI,0BAAMT,EAAE,iMAEZ,2BAAI1B,EAAUrB,aAAe,YAC7B,6BACI,0BAAM+C,EAAE,4NAEZ,2BAAI,aAER,6BACA,uBAAGjK,MAAO,CAACmB,aAAc,SAAzB,IAAmC,mDAAiCoH,EAAUoC,eAC9E,2BAAG,mDACC,yBAAKzH,UAAU,6BACX,yBAAKlD,MAAO,CAAC4K,QAAQ,gBACjB,0BAAMX,EAAE,0QAEZ,2BAAI,UAAY1B,EAAU2B,QAC1B,yBAAKlK,MAAO,CAAC4K,QAAQ,gBACjB,0BAAMX,EAAE,kRAEZ,2BAAI,SAAW1B,EAAU4B,OACzB,yBAAKnK,MAAO,CAAC4K,QAAQ,gBACjB,0BAAMX,EAAE,mbAEZ,2BAAI,QAAU1B,EAAU6B,OAEhC,6BACA,2BAAG,mDAAH,IAAqC7B,EAAUsC,qB,qECoShEC,OAxjBf,SAAmBjL,GAEf,IAAMU,EAAcV,EAAMsI,GAAGC,MAAMC,OAAOC,GAFrB,EAKWlH,mBAAS,CACrC,SAAY,KACZ,UAAc,KACd,MAAU,QACV,OAAW,QACX,KAAQ,KAVS,mBAKd2J,EALc,KAKJC,EALI,OAciB5J,mBAAS,MAd1B,mBAcd6J,EAdc,KAcDC,EAdC,OAiBoB9J,mBAAS,IAjB7B,mBAiBduD,EAjBc,KAiBCwG,EAjBD,OAoB0B/J,mBAAS,IApBnC,mBAoBdgK,EApBc,KAoBIC,EApBJ,OAuB2BjK,oBAAS,GAvBpC,mBAuBdkK,EAvBc,KAuBKC,EAvBL,OAwBuBnK,oBAAS,GAxBhC,mBAwBdyH,EAxBc,KAwBGC,EAxBH,KA4BrBxH,qBAAU,WACNC,MAAM,yFAA2FhB,EAAa,CAACiB,KAAM,SAASC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GACvJuJ,EAAgBvJ,GAChBoJ,EAAY,CACR,SAAapJ,EAAKmG,SAClB,UAAcnG,EAAKoG,UACnB,MAAU,QACV,OAAW,QACX,KAAS,KAEbuD,GAAmB,MACpB1J,OAAM,WACLC,QAAQC,IAAI,+BACZwJ,GAAmB,MAGvBhK,MAAM,2FAA6FhB,EAAa,CAACiB,KAAM,SAASC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GACzJyJ,EAAmBzJ,GACnBkH,GAAiB,MAClBjH,OAAM,WACLC,QAAQC,IAAI,iCACZ+G,GAAiB,QA4HtB,CAACvI,IAKJ,IA2I8BiL,EAlHPvC,EAzBjBwC,EAAiB,SAACnF,GACpB,OAAqB,IAAjBA,EACQ,yBAAK5C,IAAK8C,IAAM5C,IAAI,YAAYV,UAAU,eAC1B,MAAjBoD,EACA,yBAAK5C,IAAK+C,IAAW7C,IAAI,cAAcV,UAAU,eAChC,IAAjBoD,EACA,yBAAK5C,IAAKgD,IAAM9C,IAAI,YAAYV,UAAU,eACzB,MAAjBoD,EACA,yBAAK5C,IAAKiD,IAAY/C,IAAI,cAAcV,UAAU,eACjC,IAAjBoD,EACA,yBAAK5C,IAAKkD,IAAOhD,IAAI,YAAYV,UAAU,eAC1B,MAAjBoD,EACA,yBAAK5C,IAAKmD,IAAUjD,IAAI,cAAcV,UAAU,eAC/B,IAAjBoD,EACA,yBAAK5C,IAAKoD,IAAKlD,IAAI,YAAYV,UAAU,eACxB,MAAjBoD,EACA,yBAAK5C,IAAKqD,IAAUnD,IAAI,cAAcV,UAAU,eAC/B,IAAjBoD,EACA,yBAAK5C,IAAKsD,IAAKpD,IAAI,YAAYV,UAAU,eAExC,yBAAKQ,IAAKuD,IAAMrD,IAAI,YAAYV,UAAU,gBAuL1D,OACI,6BAEI,kBAAC,EAAD,MACA,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GAErB,kBAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC1B,kBAAC,IAAD,CAAMnD,GAAE,wBAAmBqE,EAAcpE,YAAjC,YAAgDqC,eAAeC,QAAQ,aAC/E,kBAACwC,EAAA,EAAD,CAAQlB,QAAQ,YAAYnE,MAAO,CAAC0L,WAAY,UAAWhG,MAAO,QAASvF,OAAQ,OAAQ0F,WAAY,WACnG,kBAAC,KAAD,CAAU7F,MAAO,CAAE0F,MAAO,QAASiG,YAAa,SADpD,mBAMCP,EAAiBhL,KAAI,SAAA2I,GAAM,OACxB,kBAAC9C,EAAA,EAAD,CAAM/C,UAAU,cAAe1C,IAAKuI,EAAOT,IACvC,yBAAKpF,UAAU,sBACX,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACrB,kBAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAC3B,yBAAKP,UAAU,4BACX,kBAAC0I,GAAA,EAAD,CAAQhI,IAAKmF,EAAOtI,KAAMiD,IAAKqF,EAAOsB,YAAanH,UAAU,iBAC7D,kBAAC,IAAD,CAAM5C,GAAE,iBAAYyI,EAAOb,UACvB,4BAAKa,EAAOtI,QAGpB,yBAAKyC,UAAU,uBACX,yBAAKlD,MAAO,CAAC4F,QAAS,OAAQ9E,UAAW,SACrC,6BACI,0BAAMmJ,EAAE,2JACR,0BAAMA,EAAE,wLAEZ,uBAAGjK,MAAO,CAACgJ,SAAU,QAAQ,gCAASD,EAAO2B,QAAU,cAE3D,yBAAK1K,MAAO,CAAC4F,QAAS,SAClB,6BACI,0BAAMqE,EAAE,gMAEZ,uBAAGjK,MAAO,CAACgJ,SAAU,QAAQ,gCAASD,EAAO7B,aAAe,cAEhE,yBAAKlH,MAAO,CAAC4F,QAAS,SAClB,6BACI,0BAAMqE,EAAE,yLAEZ,uBAAGjK,MAAO,CAACgJ,SAAU,QAAQ,gCAAS,gBAIlD,kBAAC7F,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAC3B,yBAAKzD,MAAO,CAAC4F,QAAS,OAAQC,WAAY,WACrC4F,EAAe1C,EAAOgB,QACvB,2BAAIhB,EAAOiB,OAEf,2BAAIjB,EAAO9F,MACX,yBAAKC,UAAU,wBACX,yBAAKlD,MAAO,CAAC4K,QAAQ,gBACjB,0BAAMX,EAAE,0QAEZ,2BAAI,UAAYlB,EAAOmB,QACvB,yBAAKlK,MAAO,CAAC4K,QAAQ,gBACjB,0BAAMX,EAAE,kRAEZ,2BAAI,SAAWlB,EAAOoB,OACtB,yBAAKnK,MAAO,CAAC4K,QAAQ,gBACjB,0BAAMX,EAAE,mbAEZ,2BAAI,QAAUlB,EAAOqB,cAS3CvB,EACE,6BACI,kBAAC5C,EAAA,EAAD,CAAM/C,UAAU,eACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,YAE/C,kBAACqF,EAAA,EAAD,CAAM/C,UAAU,eACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,YAE/C,kBAACqF,EAAA,EAAD,CAAM/C,UAAU,eACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,YAE/C,kBAACqF,EAAA,EAAD,CAAM/C,UAAU,eACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,YAE/C,kBAACqF,EAAA,EAAD,CAAM/C,UAAU,eACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,aAGlD,+BAET,kBAACuC,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GACxBkB,EAAcpE,cAAgB+K,EAChC,6BAEI,kBAACrF,EAAA,EAAD,CAAM/C,UAAU,gBACZ,yBAAKA,UAAU,wBACX,kBAACgD,EAAA,EAAD,CAAWxC,IAAKiB,EAAcwB,MAAOC,UAAU,MACnCC,MAAM,WAClB,wBAAIrG,MAAO,CAACc,UAAW,SAAU6D,EAAclE,MAC/C,yBAAKyC,UAAU,uBACVuI,EAAe9G,EAAc4B,OAC9B,2BAAI5B,EAAcuC,aAAe,aAErC,yBAAKhE,UAAU,0BACX,4BA9RT+F,EA8R2BtE,EAAcuE,WAAWC,uBA7RvC,IAA5BC,SAASH,GACF,QAC4B,IAA5BG,SAASH,GACT,OAC4B,IAA5BG,SAASH,GACT,MAC4B,IAA5BG,SAASH,GACT,KAC4B,IAA5BG,SAASH,GACT,IAEA,IAkRiB,gBACA,2BA7QP,SAACI,GAEtB,IADA,IAAMC,EAAWD,EAAevG,MAAM,KAAK1C,KAAI,SAAAkD,GAAI,OAAEA,EAAKiG,UAClDC,EAAIF,EAASG,OAAS,EAAGD,GAAK,EAAGA,IACJ,gBAA9BF,EAASE,GAAGzE,eAAiE,cAA9BuE,EAASE,GAAGzE,eAA+D,SAA9BuE,EAASE,GAAGzE,eAC1E,UAA9BuE,EAASE,GAAGzE,eACXuE,EAASI,OAAOF,EAAG,GAG3B,OAAOF,EAASK,KAAK,MAqQWC,CAAiBjF,EAAcwC,cAjQ5C,SAAC0E,GAEpB,IAAIC,GAAU,IAAIC,MAAOC,SACrBC,GAAgB,IAAIF,MAAOG,WAC3BC,GAAkB,IAAIJ,MAAOK,aAIX,IAAlBH,GAAyC,IAAlBA,GAAyC,IAAlBA,GAAyC,IAAlBA,GAAyC,IAAlBA,IAC5FH,EAAuB,IAAZA,EAAiB,EAAIA,EAAU,GAI9C,IAAMO,EAAkB,SAACC,EAAWL,EAAeE,GAE/C,GAAkB,WAAdG,EACA,OAAO,uBAAGpJ,UAAU,eAAc,2CAIhB,IAAlB+I,GAAyC,IAAlBA,GAAyC,IAAlBA,GAAyC,IAAlBA,GAAyC,IAAlBA,IAC5FA,GAAgC,IAIpC,IASIM,EATEjD,EAAWgD,EAAUxJ,MAAM,KAAK1C,KAAI,SAAAkD,GAAI,OAAIA,EAAKR,MAAM,QAGzD0J,EAAKpD,SAASE,EAAS,GAAG,IAC1BmD,EAAKrD,SAASE,EAAS,GAAG,GAAGoD,UAAU,EAAE,IACzCC,EAAKvD,SAASE,EAAS,GAAG,IAC1BsD,EAAKxD,SAASE,EAAS,GAAG,GAAGoD,UAAU,EAAE,IAI7CH,EAAoC,OAA7BjD,EAAS,GAAG,GAAGkB,OAAO,IAAsB,KAAPgC,EAAa,EAAI,GAS7D,OAHAG,GAJoC,OAA7BrD,EAAS,GAAG,GAAGkB,OAAO,GAAe,GAAK,IAItCmC,EAGPV,GAJJO,EAAKD,EAAMC,IAIeP,EAAgBU,EAC/B,2BAAG,0BAAMzJ,UAAU,aAAY,yCAA/B,IAA6DoJ,GAC7DL,IAAkBO,EACrBL,GAAmBM,EACZ,2BAAG,0BAAMvJ,UAAU,eAAc,2CAAjC,IAAiEoJ,GAEjE,2BAAG,0BAAMpJ,UAAU,aAAY,yCAA/B,IAA6DoJ,GAEjEL,IAAkBU,EACrBR,EAAkBS,EACX,2BAAG,0BAAM1J,UAAU,eAAc,2CAAjC,IAAiEoJ,GAEjE,2BAAG,0BAAMpJ,UAAU,aAAY,yCAA/B,IAA6DoJ,GAGjE,2BAAG,0BAAMpJ,UAAU,eAAc,2CAAjC,IAAiEoJ,IAKhF,OAAgB,IAAZR,EACOO,EAAgBR,EAAoBgB,OAAQZ,EAAeE,GAC/C,IAAZL,EACAO,EAAgBR,EAAoBiB,OAAQb,EAAeE,GAC/C,IAAZL,EACAO,EAAgBR,EAAoBkB,QAASd,EAAeE,GAChD,IAAZL,EACAO,EAAgBR,EAAoBmB,UAAWf,EAAeE,GAClD,IAAZL,EACAO,EAAgBR,EAAoBoB,SAAUhB,EAAeE,GACjD,IAAZL,EACAO,EAAgBR,EAAoBqB,OAAQjB,EAAeE,GAC/C,IAAZL,EACAO,EAAgBR,EAAoBsB,SAAUlB,EAAeE,GAE7D,4BAoLciB,CAAezI,EAAc0I,SAItC,kBAACpH,EAAA,EAAD,CAAM/C,UAAU,gBACZ,yBAAKA,UAAU,gBACX,gDACC6H,EAAShD,SACV,yBAAK7E,UAAU,OACf,kBAAC,KAAD,iBAAgB6H,EAAhB,CACIuC,SAAS,sDACTC,qBAAsB,+FACtBC,iBAAkB,SAAAzC,GAAaC,EAAYD,MAC3C,kBAAC,KAAD,CAAQvK,IAAK,EAAGuH,SAAUpD,EAAcoD,SAAUC,UAAWrD,EAAcqD,WACvE,4BAAQ9E,UAAU,aAAaoC,QAAS,SAACrB,GACrCA,EAAEwJ,iBACFvC,EAAevG,EAAcpE,eAE7B,yBAAKmD,IAAKgK,KAAW9J,IAAI,gBAIhCqH,EACG,kBAAC,KAAD,CAAOlD,SAAUpD,EAAcoD,SAAUC,UAAWrD,EAAcqD,UAC9D2F,QAAS,kBAAMzC,EAAe,QAC9B,6BACI,4BAAKvG,EAAclE,MACnB,2BAAIkE,EAAckF,WAG1B,MAGR,4BAAKlF,EAAckF,SACnB,2BAAG,gCAASlF,EAAcyC,KAAO,KAAOzC,EAAc0C,MAAQ,IAAM1C,EAAcmF,cAClF,yBAAK5G,UAAU,kBACX,2BAAG,4CAA4ByB,EAAc0I,MAAMP,QACnD,2BAAG,oDAAwCnI,EAAc0I,MAAMN,SAC/D,2BAAG,4CAA4BpI,EAAc0I,MAAML,WACnD,2BAAG,gDAAkCrI,EAAc0I,MAAMJ,UACzD,2BAAG,wDAA8CtI,EAAc0I,MAAMH,QACrE,2BAAG,oDAAwCvI,EAAc0I,MAAMF,UAC/D,2BAAG,gDAAkCxI,EAAc0I,MAAMR,UAGzD,gCAKZ,kBAAC5G,EAAA,EAAD,CAAM/C,UAAU,gBACZ,yBAAKA,UAAU,wBACX,wBAAIA,UAAU,yBAAd,cAnOEsI,EAoOoB7G,EAAcuE,WApL5D,6BACK0E,OAAOC,KAAKrC,GAA0BpL,KAAI,SAASI,EAAKsN,GACrD,GAAY,2BAARtN,EACA,OACA,yBAAKA,IAAKA,EAAK0C,UAAU,iBACrB,6BAAK,gCAdS,SAAC6K,GAC3B,IAAIF,EAAOE,EAAeC,QAAQ,WAAY,OAAOzE,OAGrD,OADAsE,GADAA,EAAOA,EAAKG,QAAQ,MAAO,OACfA,QAAQ,QAAS,SACjBA,QAAQ,cAAe,IAAIA,QAAQ,WAAY,IAUjCC,CAAsBzN,GAA/B,OACL,6BAlDiB,SAAC0N,GAC9B,IAAI5E,EAAW4E,EAAc1D,QAAQ1H,MAAM,KACvCoG,EAAa,KAGjB,GAAII,EAASG,OAAS,EAAE,CAOpB,GAA0B,KAF1BP,GADAA,GAFAI,EAAW4E,EAAcpL,MAAM,KAAK1C,KAAI,SAAAkD,GAAI,OAAIA,EAAK0K,QAAQ,IAAI,IAAIA,QAAQ,IAAI,IAAIzE,UAAQnJ,KAAI,SAAAkD,GAAI,OAAIA,EAAKR,MAAM,UAE9F1C,KAAI,SAAAkD,GAAI,MAAiB,SAAZA,EAAK,GAAiBA,EAAK,GAAM,OAC5CwB,QAAO,SAAAxB,GAAI,MAAa,KAATA,MAExBmG,OACX,MAAO,MAIXP,GADAA,EAAaA,EAAW9I,KAAI,SAAAkD,GAAI,OAAIA,EAAK6K,OAAO,GAAGC,cAAgB9K,EAAKkH,MAAM,OACtDb,KAAK,WAIzBT,EADkB,SAAlBgF,EACa,MACY,UAAlBA,EACM,MAGbhF,GADAA,EAAagF,GACWC,OAAO,GAAGC,cAAgBlF,EAAWsB,MAAM,IAC3CwD,QAAQ,IAAK,KAI7C,OAAO9E,EAmBWmF,CAAyB7C,EAAyBhL,cAkLvD8K,EACD,6BACA,kBAACrF,EAAA,EAAD,CAAM/C,UAAU,gBACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,YAE/C,kBAACqF,EAAA,EAAD,CAAM/C,UAAU,gBACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,YAE/C,kBAACqF,EAAA,EAAD,CAAM/C,UAAU,gBACZ,kBAACoE,EAAA,EAAD,CAAUC,UAAU,OAAOvH,MAAO,CAACY,OAAQ,aAG9C,kC,8GCzVV0N,OAzNf,SAAuBzO,GAEnB,IAAMU,EAAcV,EAAMsI,GAAGC,MAAMC,OAAOkG,IACpCrG,EAAUrI,EAAMsI,GAAGC,MAAMC,OAAOmG,IAGhCC,EAAUC,cANS,EASKtN,mBAAS,GATd,mBASlBuN,EATkB,KASTC,EATS,OAeOxN,mBAAS,IAfhB,mBAelByN,EAfkB,KAeRC,EAfQ,OAkBmB1N,mBAAS,GAlB5B,mBAkBlB2N,EAlBkB,KAkBFC,EAlBE,OAmB6B5N,mBAAS,CAAC,EAAE,EAAE,EAAE,EAAE,IAnB/C,mBAmBlB6N,EAnBkB,KAmBGC,EAnBH,OAyBe9N,mBAAS,IAzBxB,mBAyBnBuD,EAzBmB,KAyBJwG,EAzBI,OA4BM/J,oBAAS,GA5Bf,mBA4BnBqB,EA5BmB,KA4BRC,EA5BQ,OA+BetB,oBAAS,GA/BxB,mBA+BlB+N,EA/BkB,KA+BJC,EA/BI,KAgCnBC,EAAc,WAAQD,GAAgB,IAmE5C,OA/DA9N,qBAAU,WACNC,MAAM,yFAA2FhB,EAAa,CAACiB,KAAM,SAASC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GACvJuJ,EAAgBvJ,QAoBrB,CAACrB,IA0CA,6BAEI,yBAAK2C,UAAY,UACb,kBAAC,IAAD,CAAM5C,GAAG,KACL,yBAAKoD,IAAOC,IAAWC,IAAM,UAEjC,+CAEJ,kBAACT,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACrB,kBAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,IAGtB,kBAACL,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAAC,IAAD,CAAMlD,GAAE,oBAAeqE,EAAcpE,cACjC,wBAAI2C,UAAU,oBAAoByB,EAAclE,OAGpD,kBAACwF,EAAA,EAAD,KACI,yBAAK/C,UAAU,yBACX,yCACA,yBAAKA,UAAU,kBACX,kBAAC,KAAD,CAAkBc,SA7GxB,SAACD,GAAY6K,EAAW7K,IA6GyBA,MAAO4K,EAASW,QAAQ,EACvDC,aAAc,QAASC,eAAgB,UAAWC,QAAS,EAAGC,KAAM,GAAIxM,UAAU,qBAE1F,kBAACmC,EAAA,EAAD,CAAQrF,MAAO,CAAC0L,WAAY,UAAWhG,MAAO,QAAS3E,WAAY,QAASuE,QAlDnF,WAErB,GAAgB,SAAZ4C,GAAkC,IAAZyG,GAA8B,KAAbE,EACvCO,GAAgB,OACb,CAEH,IAAMO,EAAW,IAAI5D,KACf6D,EAAe,CACjB,YAAerP,EACf,KAAQ,EACR,KAAQoP,EAASE,cAAgB,KAAMF,EAASG,WAAW,GAAK,IAAMH,EAASI,UAAY,IAAMJ,EAASzD,WAAa,IAAMyD,EAASvD,aAAe,IAAMuD,EAASK,aACpK,MAAS,EACT,GAAM,KACN,OAAUrB,EACV,KAAQE,EACR,OAAU,EACV,QAAW3G,GAGf3G,MAAM,oEAAqE,CAACC,KAAM,OAAQyO,OAAQ,OAAQC,KAAMC,KAAKC,UAAUR,GAAeS,QAAS,CAAE,eAAgB,sBAAuB5O,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GACzN6M,EAAQ6B,KAAR,oBAA0B/P,UA8BN,gBAGR,wBAAIP,MAAO,CAACc,UAAW,OAAQK,aAAc,SAAU,UAAYwN,EAAU,UAC7E,8BAAU4B,KAAK,OAAOxM,MAAO8K,EAAU7K,SA1G1C,SAACC,GAAQ6K,EAAY7K,EAAEC,OAAOH,QA0GsCW,YAAY,2BACjExB,UAAU,qBAI9B,kBAAC+C,EAAA,EAAD,KACI,yBAAK/C,UAAU,yBACX,mDACA,yBAAKlD,MAAO,CAAC4F,QAAS,OAAQC,WAAY,WACtC,kBAACR,EAAA,EAAD,CAAQrF,MAAO,CAACC,gBAAiB,UAAWyF,MAAO,QAASiG,YAAa,QAASrG,QA3EnF,WAEvB5C,GAAW,GAEXnB,MAAM,iEAAkE,CAACC,KAAM,OAAQyO,OAAQ,OAAQC,KAAMC,KAAKC,UAAU,CAAC,KAAQvB,IAAYwB,QAAS,CAAE,eAAgB,sBAAuB5O,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GAC5NoN,EAAkBpN,EAAI,SACtBsN,EAAuBtN,EAAI,MAAUxB,KAAI,SAAAoQ,GAAK,OAAIC,YAAkB,IAAND,GAAWE,QAAQ,QACjFhO,GAAW,QAoES,kBACED,EAAa,kBAACkO,GAAA,EAAD,CAAkBjL,MAAM,YAAYgK,KAAK,SAAW,+BAEvE,wBAAI1P,MAAO,CAACc,UAAW,SAAU,sBAAwBiO,GACzD,wBAAI/O,MAAO,CAACc,UAAW,SAAvB,mBACA,yBAAKoC,UAAU,kBACX,yBAAKQ,IAAK8C,IAAM5C,IAAI,YAAYV,UAAU,oBAC1C,kBAAC0N,GAAA,EAAD,CAAK/P,MAAM,OAAOgQ,GAAI,GAClB,kBAACC,GAAA,EAAD,CAAgB3M,QAAQ,cAAcJ,MAAOkL,EAAoB,GAAIvJ,MAAM,YAAY1F,MAAO,CAACC,gBAAiB,cAEpH,kBAAC2Q,GAAA,EAAD,CAAKG,SAAU,IACX,2BAAI9B,EAAoB,GAAK,OAGrC,yBAAK/L,UAAU,kBACX,yBAAKQ,IAAKgD,IAAM9C,IAAI,YAAYV,UAAU,oBAC1C,kBAAC0N,GAAA,EAAD,CAAK/P,MAAM,OAAOgQ,GAAI,GAClB,kBAACC,GAAA,EAAD,CAAgB3M,QAAQ,cAAcJ,MAAOkL,EAAoB,GAAIvJ,MAAM,YAAY1F,MAAO,CAACC,gBAAiB,cAEpH,kBAAC2Q,GAAA,EAAD,CAAKG,SAAU,IACX,2BAAI9B,EAAoB,GAAK,OAGrC,yBAAK/L,UAAU,kBACX,yBAAKQ,IAAKkD,IAAOhD,IAAI,YAAYV,UAAU,oBAC3C,kBAAC0N,GAAA,EAAD,CAAK/P,MAAM,OAAOgQ,GAAI,GAClB,kBAACC,GAAA,EAAD,CAAgB3M,QAAQ,cAAcJ,MAAOkL,EAAoB,GAAIvJ,MAAM,YAAY1F,MAAO,CAACC,gBAAiB,cAEpH,kBAAC2Q,GAAA,EAAD,CAAKG,SAAU,IACX,2BAAI9B,EAAoB,GAAK,OAGrC,yBAAK/L,UAAU,kBACX,yBAAKQ,IAAKoD,IAAKlD,IAAI,YAAYV,UAAU,oBACzC,kBAAC0N,GAAA,EAAD,CAAK/P,MAAM,OAAOgQ,GAAI,GAClB,kBAACC,GAAA,EAAD,CAAgB3M,QAAQ,cAAcJ,MAAOkL,EAAoB,GAAIvJ,MAAM,YAAY1F,MAAO,CAACC,gBAAiB,cAEpH,kBAAC2Q,GAAA,EAAD,CAAKG,SAAU,IACX,2BAAI9B,EAAoB,GAAK,OAGrC,yBAAK/L,UAAU,kBACX,yBAAKQ,IAAKsD,IAAKpD,IAAI,YAAYV,UAAU,oBACzC,kBAAC0N,GAAA,EAAD,CAAK/P,MAAM,OAAOgQ,GAAI,GAClB,kBAACC,GAAA,EAAD,CAAgB3M,QAAQ,cAAcJ,MAAOkL,EAAoB,GAAIvJ,MAAM,YAAY1F,MAAO,CAACC,gBAAiB,cAEpH,kBAAC2Q,GAAA,EAAD,CAAKG,SAAU,IACX,2BAAI9B,EAAoB,GAAK,UAMjD,kBAAC9L,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,KAK1B,kBAACwN,GAAA,EAAD,CAAQC,KAAM9B,EAAcxB,QAAS0B,GACjC,kBAAC6B,GAAA,EAAD,CAAa5I,GAAG,sBAAsB,6CACtC,kBAAC6I,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,6DAGA,kBAACA,GAAA,EAAD,gDAGA,kBAACA,GAAA,EAAD,yCAIJ,kBAACC,GAAA,EAAD,KACI,kBAAChM,EAAA,EAAD,CAAQC,QAAS+J,EAAa3J,MAAM,UAAU4L,WAAS,GAAvD,e,sCCxFLC,OApIf,SAAe1R,GAGX,IAAM4O,EAAUC,cAHC,EAMgB8C,eAA1BC,EANU,EAMVA,SAAUC,EANA,EAMAA,aANA,EASetQ,mBAAS,CAAC,MAAS,GAAI,SAAY,KATlD,mBASVuQ,EATU,KASAC,EATA,OAUmBxQ,mBAAS,CAAC,OAAS,EAAO,UAAY,IAVzD,mBAUVyQ,EAVU,KAUEC,EAVF,KAsDjB,OACI,6BAEI,yBAAK5O,UAAU,eACX,kBAAC,IAAD,CAAM5C,GAAG,KACL,yBAAKoD,IAAOC,IAAWC,IAAM,WAIrC,6BACI,kBAACT,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGwC,WAAW,SAASkM,QAAQ,UACpD,kBAAC5O,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAG7B,kBAACN,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC1B,yBAAKzD,MAAO,CAACc,UAAW,QACpB,wBAAId,MAAO,CAAC0F,MAAO,UAAWvE,aAAc,SAA5C,mBACA,uBAAGnB,MAAO,CAACmB,aAAc,SAAS,iDAA8B,kBAAC,IAAD,CAAMb,GAAG,WAAU,2CACnF,uBAAGN,MAAO,CAACgJ,SAAU,MAAO7H,aAAc,SAA1C,gFAGA,6BACA,kBAACkE,EAAA,EAAD,CAAQrF,MAAO,CAACa,MAAO,QAASZ,gBAAiB,QAASyF,MAAO,QAASvE,aAAc,OAAQL,UAAW,SAA3G,sBAGA,kBAACuE,EAAA,EAAD,CAAQrF,MAAO,CAACa,MAAO,QAASZ,gBAAiB,UAAWyF,MAAO,QAASvE,aAAc,SACtF,yBAAKnB,MAAO,CAACY,OAAQ,OAAQC,MAAO,OAAQmR,KAAM,QAASrG,YAAa,OAAQxK,aAAc,QAC1F,0BAAM8I,EAAE,mRAFhB,yBAMA,kBAAC5E,EAAA,EAAD,CAAQrF,MAAO,CAACa,MAAO,QAASZ,gBAAiB,QAASkB,aAAc,QAASgD,QAAQ,YACrF,yBAAKnE,MAAO,CAAC2L,YAAa,OAAQxK,aAAc,OAAQuC,IAAI,2HAA2HE,IAAI,gBAD/L,wBAOA,8BAAUV,UAAU,WAChB,4BAAQlD,MAAO,CAACiS,MAAO,WAAvB,OAIJ,0BAAMC,YAAU,EAACC,SAAUT,GApF7B,SAACU,GAEnB,IAAMC,EAAK,yCAGU,KAAjBD,EAAOE,OAAoC,KAApBF,EAAOG,UAC9BX,EAAY,CAAC,MAAS,sBAAuB,SAAY,mBACzDE,EAAc,CAAC,OAAS,EAAM,UAAY,MACT,IAA1BO,EAAGG,KAAKJ,EAAOE,QAAwC,KAApBF,EAAOG,UACjDX,EAAY,CAAC,MAAS,wBAAyB,SAAY,mBAC3DE,EAAc,CAAC,OAAS,EAAM,UAAY,KAClB,KAAjBM,EAAOE,OACdV,EAAY,CAAC,MAAS,sBAAuB,SAAY,KACzDE,EAAc,CAAC,OAAS,EAAM,UAAY,KACf,KAApBM,EAAOG,UACdX,EAAY,CAAC,SAAY,mBACzBE,EAAc,CAAC,OAAS,EAAO,UAAY,MACV,IAA1BO,EAAGG,KAAKJ,EAAOE,QACtBV,EAAY,CAAC,MAAS,wBAAyB,SAAY,KAC3DE,EAAc,CAAC,OAAS,EAAM,UAAY,KAG1CvQ,MAAM,2EAA4E,CAACC,KAAM,OAAQyO,OAAQ,OAAQC,KAAMC,KAAKC,UAAUgC,GAAS/B,QAAS,CAAE,eAAgB,sBAAuB5O,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GACrM,aAAjBA,EAAK6Q,SAGLhE,EAAQ6B,KAAK,KACb1N,eAAe4C,QAAQ,WAAY5D,EAAKnB,MACxCmC,eAAe4C,QAAQ,UAAW5D,EAAKsG,WAGvC0J,EAAY,CAAC,MAAS,mCAAoC,SAAY,qCACtEE,EAAc,CAAC,OAAS,EAAM,UAAY,QAE/CjQ,OAAM,WACLC,QAAQC,IAAI,uDAkDI,kBAAC0C,EAAA,EAAD,CAAWzE,MAAO,CAACa,MAAO,QAASC,UAAW,OAAQK,aAAc,QACxDV,KAAK,QAAQ6H,GAAG,QAAQoK,MAAM,QAAQvO,QAAQ,WAAWuL,KAAK,QAC9DiD,SAAUlB,EACVmB,MAAOf,EAAWS,MAClBO,WAAYlB,EAASW,QAEjC,kBAAC7N,EAAA,EAAD,CAAWzE,MAAO,CAACa,MAAO,SACdJ,KAAK,WAAW6H,GAAG,WAAWoK,MAAM,WAAWvO,QAAQ,WAAWuL,KAAK,QAAQa,KAAK,WACpFoC,SAAUlB,EACVmB,MAAOf,EAAWU,SAClBM,WAAYlB,EAASY,WAEjC,kBAAClN,EAAA,EAAD,CAAQrF,MAAO,CAACa,MAAO,QAASC,UAAW,OAAQb,gBAAiB,UAAWyF,MAAO,SAAUvB,QAAQ,YAAYoM,KAAK,UAAzH,YAIJ,uBAAGvQ,MAAO,CAACmB,aAAc,OAAQL,UAAW,OAAQgS,YAAa,QAAS9J,SAAU,QAApF,gBAAyG,kBAAC,IAAD,CAAM1I,GAAG,WAAU,6CAIpI,kBAAC6C,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC1B,yBAAKzD,MAAO,CAAC6F,WAAY,SAAUD,QAAS,OAAQmN,eAAgB,WAChE,yBAAK7P,UAAU,aAAaQ,IAAOsP,KAAapP,IAAM,gBAG9D,kBAACT,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,OAAQC,GAAI,EAAGC,GAAI,Q,OCgDvCwP,OA3Kf,SAAgBpT,GAGZ,IAAM4O,EAAUC,cAHE,EAMe8C,eAA1BC,EANW,EAMXA,SAAUC,EANC,EAMDA,aANC,EASctQ,mBAAS,CAAC,MAAS,GAAI,SAAY,GAAI,UAAa,GAAI,SAAY,KATlF,mBASXuQ,EATW,KASDC,EATC,OAUkBxQ,mBAAS,CAAC,OAAS,EAAO,UAAY,EAAO,WAAa,EAAO,UAAY,IAV/F,mBAUXyQ,EAVW,KAUCC,EAVD,KA4ElB,OACI,6BAEI,yBAAK5O,UAAU,eACX,kBAAC,IAAD,CAAM5C,GAAG,KACL,yBAAKoD,IAAOC,IAAWC,IAAM,WAGrC,6BAEI,kBAACT,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGwC,WAAW,SAASkM,QAAQ,UACpD,kBAAC5O,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAE7B,kBAACN,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC1B,yBAAKzD,MAAO,CAACc,UAAW,QACpB,wBAAId,MAAO,CAAC0F,MAAO,UAAWvE,aAAc,SAA5C,oBACA,uBAAGnB,MAAO,CAACmB,aAAc,SAAU,wEACnC,uBAAGnB,MAAO,CAACgJ,SAAU,MAAO7H,aAAc,SAA1C,wGAGA,6BACA,kBAACkE,EAAA,EAAD,CAAQrF,MAAO,CAACa,MAAO,QAASZ,gBAAiB,QAASyF,MAAO,QAASvE,aAAc,OAAQL,UAAW,SAA3G,uBAGA,kBAACuE,EAAA,EAAD,CAAQrF,MAAO,CAACa,MAAO,QAASZ,gBAAiB,UAAWyF,MAAO,QAASvE,aAAc,SACtF,yBAAKnB,MAAO,CAACY,OAAQ,OAAQC,MAAO,OAAQmR,KAAM,QAASrG,YAAa,OAAQxK,aAAc,QAC1F,0BAAM8I,EAAE,mRAFhB,0BAMA,kBAAC5E,EAAA,EAAD,CAAQrF,MAAO,CAACa,MAAO,QAASZ,gBAAiB,QAASkB,aAAc,QAASgD,QAAQ,YACrF,yBAAKnE,MAAO,CAAC2L,YAAa,OAAQxK,aAAc,OAAQuC,IAAI,2HAA2HE,IAAI,gBAD/L,yBAMA,uBAAG5D,MAAO,CAACgJ,SAAU,MAAO7H,aAAc,OAAQL,UAAW,SAA7D,uDAGA,8BAAUoC,UAAU,WAChB,4BAAQlD,MAAO,CAACiS,MAAO,WAAvB,OAIJ,0BAAMC,YAAU,EAACC,SAAUT,GA3G7B,SAACU,GAEnB,IAAMC,EAAK,yCAGU,KAAjBD,EAAOE,OAAoC,KAApBF,EAAOG,UAAwC,KAArBH,EAAOc,WAAwC,KAApBd,EAAOe,UACnFvB,EAAY,CAAC,MAAS,sBAAuB,SAAY,iBAAkB,UAAa,kBAAmB,SAAY,mBACvHE,EAAc,CAAC,OAAS,EAAM,UAAY,EAAM,WAAa,EAAM,UAAY,KACpD,KAApBM,EAAOG,UAAwC,KAArBH,EAAOc,WAAwC,KAApBd,EAAOe,UACnEvB,EAAY,CAAC,MAAS,GAAI,SAAY,iBAAkB,UAAa,kBAAmB,SAAY,mBACpGE,EAAc,CAAC,OAAS,EAAO,UAAY,EAAM,WAAa,EAAM,UAAY,KACxD,KAAjBM,EAAOE,OAAqC,KAArBF,EAAOc,WAAwC,KAApBd,EAAOe,UAChEvB,EAAY,CAAC,MAAS,sBAAuB,SAAY,GAAI,UAAa,kBAAmB,SAAY,mBACzGE,EAAc,CAAC,OAAS,EAAM,UAAY,EAAO,WAAa,EAAM,UAAY,KACxD,KAAjBM,EAAOE,OAAoC,KAApBF,EAAOG,UAAuC,KAApBH,EAAOe,UAC/DvB,EAAY,CAAC,MAAS,sBAAuB,SAAY,iBAAkB,UAAa,GAAI,SAAY,mBACxGE,EAAc,CAAC,OAAS,EAAM,UAAY,EAAM,WAAa,EAAO,UAAY,KACxD,KAAjBM,EAAOE,OAAoC,KAApBF,EAAOG,UAAwC,KAArBH,EAAOc,YAC/DtB,EAAY,CAAC,MAAS,sBAAuB,SAAY,iBAAkB,UAAa,kBAAmB,SAAY,KACvHE,EAAc,CAAC,OAAS,EAAM,UAAY,EAAM,WAAa,EAAM,UAAY,KAKzD,KAArBM,EAAOc,WAA0C,KAApBd,EAAOe,UACP,IAA1Bd,EAAGG,KAAKJ,EAAOE,QAAwC,KAApBF,EAAOG,UAC1CX,EAAY,CAAC,MAAS,wBAAyB,SAAY,mBAC3DE,EAAc,CAAC,OAAS,EAAM,UAAY,KAClB,KAAjBM,EAAOE,OACdV,EAAY,CAAC,MAAS,sBAAuB,SAAY,KACzDE,EAAc,CAAC,OAAS,EAAM,UAAY,KACf,KAApBM,EAAOG,UACdX,EAAY,CAAC,SAAY,mBACzBE,EAAc,CAAC,OAAS,EAAO,UAAY,MACV,IAA1BO,EAAGG,KAAKJ,EAAOE,QACtBV,EAAY,CAAC,MAAS,wBAAyB,SAAY,KAC3DE,EAAc,CAAC,OAAS,EAAM,UAAY,KAG1CvQ,MAAM,oEAAqE,CAACC,KAAM,OAAQyO,OAAQ,OAAQC,KAAMC,KAAKC,UAAUgC,GAAS/B,QAAS,CAAE,eAAgB,sBAAuB5O,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GAC9L,gBAAjBA,EAAK6Q,SAGLhE,EAAQ6B,KAAK,KACb1N,eAAe4C,QAAQ,WAAY5D,EAAKnB,MACxCmC,eAAe4C,QAAQ,UAAW5D,EAAKsG,WAGvC0J,EAAY,CAAC,MAAS,yBAA0B,SAAY,yBAA0B,UAAa,yBAA0B,SAAY,2BACzIE,EAAc,CAAC,OAAS,EAAM,UAAY,EAAM,WAAa,EAAM,UAAY,QAEpFjQ,OAAM,WACLC,QAAQC,IAAI,qDAKpB6P,EAAY,CAAC,MAAS,yBAA0B,SAAY,yBAA0B,UAAa,yBAA0B,SAAY,2BACzIE,EAAc,CAAC,OAAS,EAAM,UAAY,EAAM,WAAa,EAAM,UAAY,SAkD3D,yBAAK9R,MAAO,CAAC4F,QAAS,OAAQC,WAAY,WACtC,kBAACpB,EAAA,EAAD,CAAWzE,MAAO,CAACa,MAAO,OAAQC,UAAW,OAAQK,aAAc,QACvDV,KAAK,YAAY6H,GAAG,YAAYoK,MAAM,aAAavO,QAAQ,WAAWuL,KAAK,QAC3EiD,SAAUlB,EACVmB,MAAOf,EAAWqB,UAClBL,WAAYlB,EAASuB,YAEjC,kBAACzO,EAAA,EAAD,CAAWzE,MAAO,CAACa,MAAO,OAAQC,UAAW,OAAQK,aAAc,QACvDV,KAAK,WAAW6H,GAAG,WAAWoK,MAAM,YAAYvO,QAAQ,WAAWuL,KAAK,QACxEiD,SAAUlB,EACVmB,MAAOf,EAAWsB,SAClBN,WAAYlB,EAASwB,YAGrC,kBAAC1O,EAAA,EAAD,CAAWzE,MAAO,CAACa,MAAO,QAASC,UAAW,OAAQK,aAAc,QACxDV,KAAK,QAAQ6H,GAAG,QAAQoK,MAAM,QAAQvO,QAAQ,WAAWuL,KAAK,QAC9DiD,SAAUlB,EACVmB,MAAOf,EAAWS,MAClBO,WAAYlB,EAASW,QAEjC,kBAAC7N,EAAA,EAAD,CAAWzE,MAAO,CAACa,MAAO,SACdJ,KAAK,WAAW6H,GAAG,WAAWoK,MAAM,WAAWvO,QAAQ,WAAWuL,KAAK,QAAQa,KAAK,WACpFoC,SAAUlB,EACVmB,MAAOf,EAAWU,SAClBM,WAAYlB,EAASY,WAEjC,uBAAGvS,MAAO,CAACgJ,SAAU,MAAO7H,aAAc,OAAQL,UAAW,OAAQsS,aAAc,SAAnF,oJACA,kBAAC/N,EAAA,EAAD,CAAQrF,MAAO,CAACa,MAAO,QAASC,UAAW,OAAQb,gBAAiB,UAAWyF,MAAO,SAAUvB,QAAQ,YAAYoM,KAAK,UAAzH,YAIJ,uBAAGvQ,MAAO,CAACmB,aAAc,OAAQL,UAAW,OAAQgS,YAAa,QAAS9J,SAAU,QAApF,oBAA6G,kBAAC,IAAD,CAAM1I,GAAG,UAAS,4CAKvI,kBAAC6C,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC1B,yBAAKzD,MAAO,CAAC6F,WAAY,SAAUD,QAAS,OAAQmN,eAAgB,WAChE,yBAAK7P,UAAU,aAAaQ,IAAOsP,KAAapP,IAAM,gBAG9D,kBAACT,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,OAAQC,GAAI,EAAGC,GAAI,QCjJvC4P,G,uKAhBP,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAInN,UAAW,kBAAM,kBAAC,GAAD,SACvC,kBAAC,IAAD,CAAOmN,KAAK,aAAaC,OAAQ,SAACC,GAAD,OAAiB,kBAAC,GAAD,CAAOtL,GAAIsL,OAC7D,kBAAC,IAAD,CAAOF,KAAK,gBAAgBC,OAAU,SAAAC,GAAW,OAAI,kBAAC,GAAD,CAAUtL,GAAIsL,OACnE,kBAAC,IAAD,CAAOF,KAAK,0BAA0BC,OAAU,SAAAC,GAAW,OAAI,kBAAC,GAAD,CAActL,GAAIsL,OACjF,kBAAC,IAAD,CAAOF,KAAK,SAASnN,UAAW,kBAAM,kBAAC,GAAD,SACtC,kBAAC,IAAD,CAAOmN,KAAK,UAAUnN,UAAW,kBAAM,kBAAC,GAAD,SACvC,kBAAC,IAAD,CAAU9F,GAAI,Y,GAZfoT,IAAMC,WCDVC,I,8KANb,OACC,kBAAC,GAAD,U,GAHeF,IAAMC,YCQJE,QACW,cAA7BC,OAAOzR,SAAS0R,UAEe,UAA7BD,OAAOzR,SAAS0R,UAEhBD,OAAOzR,SAAS0R,SAAS3L,MACvB,2DCZN4L,IAASR,OACP,kBAAC,IAAMS,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB7S,MAAK,SAAA8S,GACJA,EAAaC,gBAEd3S,OAAM,SAAA+Q,GACL9Q,QAAQ8Q,MAAMA,EAAMH,a,mBEzI5BgC,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,iC,mBCA3CD,EAAOC,QAAU,IAA0B,iC,mBCA3CD,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,wC,mBCA3CD,EAAOC,QAAU,IAA0B,sC,mBCA3CD,EAAOC,QAAU,IAA0B,sC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,8C,mBCA3CD,EAAOC,QAAU,IAA0B,wC","file":"static/js/main.3b7675b0.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\n// Search results that displays the search results\r\nfunction SearchResults(props){\r\n    // method that determines whether search results should be displayed or not\r\n    const displayResults = (hideOption, business) => {\r\n        if (hideOption === true){\r\n            return (<div></div>);\r\n        } else {\r\n            return (business.map((b) => \r\n                    <Link to={`/business/${b.business_id}`} key={b.business_id}>\r\n                        <div style={{}} key={b.business_id}>{b.name}</div>\r\n                    </Link>\r\n            ));\r\n        }\r\n    };\r\n\r\n    // returns the search results\r\n    return (\r\n        <div style={{backgroundColor: \"white\", maxWidth: \"20rem\", margin: \"0px 0px 0px 20px\"}}>\r\n            {displayResults(props.hideOption, props.business)}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchResults;","import React, {useState, useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n// components and CSS imports\r\nimport SearchResults from './searchresults';\r\nimport './header.css';\r\n\r\n// image imports\r\nimport yelp_logo from '../images/yelp_logo.png';\r\nimport background_image from '../images/background_image.jpg';\r\nimport five from '../images/five.JPG';\r\nimport four_half from '../images/four_half.JPG';\r\nimport four from '../images/four.JPG';\r\nimport three_half from '../images/three_half.JPG';\r\nimport three from '../images/three.JPG';\r\nimport two_half from '../images/two_half.JPG';\r\nimport two from '../images/two.JPG';\r\nimport one_half from '../images/one_half.JPG';\r\nimport one from '../images/one.JPG';\r\nimport zero from '../images/zero.JPG';\r\n\r\n\r\n// Material UI Imports\r\nimport { Restaurant, Motorcycle, ShoppingBasket, Search } from '@material-ui/icons';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Grid, MenuItem, Select, TextField, Button, Card, CardMedia } from '@material-ui/core';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\n\r\n// Material UI styles overwrite\r\nconst styles = {\r\n    selectbar: {\r\n        backgroundColor: 'white',\r\n        height: '40px',\r\n        width: '13rem',\r\n        marginTop: '20px',\r\n        marginLeft: '20px'\r\n    },\r\n    searchbar: {\r\n        backgroundColor: 'white',\r\n        height: '40px',\r\n        width: '20rem',\r\n        margin: '20px 0px 0px 20px',\r\n    },\r\n    locationsearchbar: {\r\n        backgroundColor: 'white',\r\n        height: '40px',\r\n        width: '17rem',\r\n        margin: '20px 0px 0px 20px',\r\n    },\r\n    locationSearchButton: {\r\n        marginTop: '20px',\r\n        marginBottom: '20px',\r\n        height: '40px',\r\n        width: '3rem',\r\n    }\r\n}\r\n\r\nfunction Header(props){\r\n\r\n    // Fake data for businesses\r\n    // const business = [{'business_id': '4o2DEgSgY2sDZ16g6U03-w', 'name': \"name0\"}, {\"business_id\": \"dPGs5b0N9MarZjVgQVelGQ\", \"name\": \"name1\"}]\r\n\r\n    // React Hooks for business data\r\n    const [business, setBusiness] = useState([]);\r\n\r\n    // fetch all business data on initial run\r\n    useEffect(() => {\r\n        fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/getAllBusiness', {mode: 'cors'}).then(res => res.json()).then(data => {\r\n            setBusiness(data);\r\n        }).catch(() => {\r\n            console.log(\"Error in fetch getAllBusiness in header.js\");\r\n        })\r\n    }, []);\r\n\r\n    // React hooks for current search term\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    // React hooks for current selected option (Restaurant/Pickup/Delivery)\r\n    const [selectedOption, setSelectedOption] = useState('');\r\n    // React hooks for hideOption for hide/show search results\r\n    const [hideOption, setHideOption] = useState(true);\r\n    // React hooks for current location\r\n    const [location, setLocation] = useState('');   \r\n    // React hooks for 3 closest business to current location\r\n    const [business_near, setBusinessNear] = useState([]);\r\n    // React hooks for loading state\r\n    const [isLoading, setLoading] = useState(true);\r\n\r\n\r\n    // edit the current search term search term\r\n    const editSearchTerm = (e) => {\r\n        // if no text hide the search results\r\n        if (e.target.value === \"\"){\r\n            setSearchTerm(e.target.value);\r\n            setHideOption(true);\r\n        } else {\r\n        // if text exist, we can show the search results\r\n            setSearchTerm(e.target.value);\r\n            setHideOption(false);\r\n        }\r\n    }\r\n\r\n    // dynamic search method\r\n    const dynamicSearch = () => {\r\n        const business_data = business;\r\n\r\n        // filter by the all results by the business name\r\n        const result = business_data.map(n => n.name)\r\n                                 .filter(name => name.toLowerCase().includes(searchTerm.toLowerCase()));\r\n        // map back to array of objects\r\n        const obj_result = business_data.filter(elem => result.includes(elem.name));\r\n        return obj_result;\r\n    }\r\n\r\n    // current selection for pickup/delivery/restaurant\r\n    const editSelection = (e) => {\r\n        setSelectedOption(e.target.value);\r\n    }\r\n\r\n    // Fetch from API for reverse geocoding and 3 nearest businesses\r\n    useEffect(() => {\r\n        // get current latitude, longitude from local storage\r\n        const lat_storage = sessionStorage.getItem(\"latlon\").split(',')[0]\r\n        const lon_storage = sessionStorage.getItem(\"latlon\").split(',')[1] \r\n\r\n        // Fetch from mapbox api for reverse geocoding (long, lat) => place name\r\n        fetch('https://api.mapbox.com/geocoding/v5/mapbox.places/' + lon_storage + ',' + lat_storage + '.json?access_token=pk.eyJ1IjoianNhbnRvc28yIiwiYSI6ImNrZG01eXZiYjE1N2kyeHBtaDNpanIzcGIifQ.lPtC048cZ-579QuODJc_vQ')\r\n        .then(res => res.json()).then(data => {\r\n            // get place name from current coordinates\r\n            setLocation(data.features[3].text + ',' + data.features[4].text);\r\n        }).catch(() => {\r\n            console.log(\"Error in fetch Reverse geocoding in header.js\");\r\n        })\r\n\r\n        // can run in parallel so it is ok to leave this outside\r\n        // fetch 3 nearest businesses \r\n        fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/getThreeNearestBusiness?lat=' + lat_storage + '&lon=' + lon_storage, {mode: 'cors'}).then(res => res.json()).then(data => {\r\n            setBusinessNear(data);\r\n            setLoading(false);\r\n        }).catch(() => {\r\n            console.log(\"Error in fetch getThreeNearestBusiness in header.js\");\r\n            setLoading(true);\r\n        })\r\n\r\n        // Fake data\r\n        /*setLocation('Manhattan, New York');\r\n        const business_near2 = [{'business_id': \"4o2DEgSgY2sDZ16g6U03-w\", \"name\": \"name0\", \"photo\": \"http://blog.caesars.com/las-vegas/wp-content/uploads/2019/04/favorite-bistro-patio2-720x540.jpg\", \"stars\": 4, \"review_count\": 10, \"categories\": \"categories0\", \"city\": \"city\", \"state\": \"state\"},\r\n        {'business_id': \"dPGs5b0N9MarZjVgQVelGQ\", \"name\": \"name0\", \"photo\": \"http://blog.caesars.com/las-vegas/wp-content/uploads/2019/04/favorite-bistro-patio2-720x540.jpg\", \"stars\": 3, \"review_count\": 15, \"categories\": \"categories1\", \"city\": \"city\", \"state\": \"state\"},\r\n        {'business_id': \"Ue4wtaeyhPKvdkXlULimCw\", \"name\": \"name0\", \"photo\": \"http://blog.caesars.com/las-vegas/wp-content/uploads/2019/04/favorite-bistro-patio2-720x540.jpg\", \"stars\": 5, \"review_count\": 20, \"categories\": \"categories2\", \"city\": \"city\", \"state\": \"state\"}]\r\n        setBusinessNear(business_near2);*/\r\n        \r\n    }, []);\r\n\r\n    // update location variable as user is typing in location\r\n    const updateLocationSearch = (event) => {\r\n        setLocation(event.target.value);\r\n    };\r\n\r\n    // use API to find out true location\r\n    const findLocation = (event) => {\r\n\r\n        // Fetch mapbox api to find (latitude, longitude) from location\r\n        fetch('https://api.mapbox.com/geocoding/v5/mapbox.places/' + location + '.json?country=US&access_token=pk.eyJ1IjoianNhbnRvc28yIiwiYSI6ImNrZG01eXZiYjE1N2kyeHBtaDNpanIzcGIifQ.lPtC048cZ-579QuODJc_vQ')\r\n        .then(res => res.json()).then(data => {\r\n            // update location to the current location\r\n            setLocation(data.features[0].text + \",\" + data.features[0].context[0].text);\r\n            // returned data = long, lat. Flip to get lat, long\r\n            // store the coordinates in local storage\r\n            sessionStorage.setItem(\"latlon\", [data.features[0].center[1], data.features[0].center[0]]);\r\n\r\n            const lat_storage = sessionStorage.getItem(\"latlon\").split(\",\")[0];\r\n            const lon_storage = sessionStorage.getItem(\"latlon\").split(\",\")[1];\r\n\r\n            // refetch new business closer\r\n            // need to be inside the then because cannot be run in parallel\r\n            fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/getThreeNearestBusiness?lat=' + lat_storage + '&lon=' + lon_storage, {mode: 'cors'}).then(res => res.json()).then(data => {\r\n                setBusinessNear(data);\r\n            }).catch(() => {\r\n                console.log(\"Error in getThreeNearestBusiness in header.js\");\r\n                setLoading(true);\r\n            })\r\n        }).catch(()  => {\r\n            console.log(\"Error in fetching latitude, longitude from location in header.js\");\r\n        })\r\n\r\n        // Fake data\r\n        /*setLocation('Los Angeles, California')\r\n        sessionStorage.setItem(\"latlon\", [34.0544,-118.2439]);\r\n        const business_near3 = [{'business_id': \"business_id4\", \"name\": \"abc\", \"photo\": \"http://blog.caesars.com/las-vegas/wp-content/uploads/2019/04/favorite-bistro-patio2-720x540.jpg\", \"stars\": 0, \"review_count\": 10, \"categories\": \"categories0\", \"city\": \"city\", \"state\": \"state\"},\r\n        {'business_id': \"business_id5\", \"name\": \"def\", \"photo\": \"http://blog.caesars.com/las-vegas/wp-content/uploads/2019/04/favorite-bistro-patio2-720x540.jpg\", \"stars\": 0, \"review_count\": 15, \"categories\": \"categories1\", \"city\": \"city\", \"state\": \"state\"},\r\n        {'business_id': \"business_id6\", \"name\": \"ghi\", \"photo\": \"http://blog.caesars.com/las-vegas/wp-content/uploads/2019/04/favorite-bistro-patio2-720x540.jpg\", \"stars\": 0, \"review_count\": 20, \"categories\": \"categories2\", \"city\": \"city\", \"state\": \"state\"}]\r\n        setBusinessNear(business_near3);        \r\n        */\r\n    }\r\n\r\n    // function to retrieve image stars depending on the number of ratings\r\n    const retrieve_stars = (stars_rating) => {\r\n        if (stars_rating === 5){\r\n            return (<img src={five} alt=\"5* rating\" className=\"starsStyleHome\" />);\r\n        } else if (stars_rating === 4.5){\r\n            return(<img src={four_half} alt=\"4.5* rating\" className=\"starsStyleHome\" />);\r\n        } else if (stars_rating === 4){\r\n            return(<img src={four} alt=\"4* rating\" className=\"starsStyleHome\" />);\r\n        } else if (stars_rating === 3.5){\r\n            return(<img src={three_half} alt=\"3.5* rating\" className=\"starsStyleHome\" />);\r\n        } else if (stars_rating === 3){\r\n            return(<img src={three} alt=\"3* rating\" className=\"starsStyleHome\" />);\r\n        } else if (stars_rating === 2.5){\r\n            return(<img src={two_half} alt=\"2.5* rating\" className=\"starsStyleHome\" />);\r\n        } else if (stars_rating === 2){\r\n            return(<img src={two} alt=\"2* rating\" className=\"starsStyleHome\" />);\r\n        } else if (stars_rating === 1.5){\r\n            return(<img src={one_half} alt=\"1.5* rating\" className=\"starsStyleHome\" />);\r\n        } else if (stars_rating === 1){\r\n            return(<img src={one} alt=\"1* rating\" className=\"starsStyleHome\" />);\r\n        } else {\r\n            return (<img src={zero} alt=\"0* rating\" className=\"starsStyleHome\" />);\r\n        }\r\n    }\r\n\r\n    // handle logout which clears userid and current name\r\n    const handleLogout = () => {\r\n        // removes user_id and name\r\n        sessionStorage.removeItem(\"user_id\");\r\n        sessionStorage.removeItem(\"currname\");\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        <div className = \"header\">\r\n            <Grid container spacing={0}>\r\n                {/* ############################ Yelp Logo ########################### */}\r\n                <Grid item xs={4} sm={3} md={2}>\r\n                    <Link to='/'>\r\n                        <img className = \"header_image\" src = {yelp_logo} alt = \"logo\" />\r\n                    </Link>\r\n                </Grid>\r\n                {/* ############################ Dropdown for Restaurant/Pickup/Delivery ########################### */}\r\n                <Grid item xs={8} sm={9} md={3}>\r\n                    <Select displayEmpty value={selectedOption} onChange={editSelection} \r\n                                variant = \"outlined\" className={props.classes.selectbar}>\r\n                        <MenuItem value=\"\" > Select a Category </MenuItem>\r\n                        <MenuItem value={'Restaurant'} ><Restaurant /> Restaurants</MenuItem>\r\n                        <MenuItem value={'Delivery'} ><Motorcycle /> Delivery</MenuItem>\r\n                        <MenuItem value={'Pickup'} ><ShoppingBasket /> Pickup</MenuItem>\r\n                    </Select>\r\n                </Grid>\r\n                {/* ############################ Dropdown for Restaurant/Pickup/Delivery ########################### */}\r\n                <Grid item xs={12} sm={6} md={4}>\r\n                    <TextField value = {searchTerm} onChange = {editSearchTerm} \r\n                                variant = \"standard\" placeholder=\"Search for a restaurant name!\"\r\n                                className={props.classes.searchbar} \r\n                    />\r\n                    <SearchResults business={dynamicSearch()} hideOption={hideOption} className={props.classes.searchresults}></SearchResults>\r\n                </Grid>\r\n                {/* ############################ Location bar ########################### */}\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <div className=\"locationSearch\">\r\n                    <TextField value = {location} onChange = {updateLocationSearch} \r\n                                variant = \"standard\" placeholder=\"Location\"\r\n                                className={props.classes.locationsearchbar} \r\n                    />\r\n                    <Button onClick={findLocation} variant=\"contained\" color=\"primary\" className={props.classes.locationSearchButton}>\r\n                        <Search />\r\n                    </Button>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n        {/*############ If username exist, display \"Welcome, Name\" and Logout button. Otherwise, display Login and Signup button ######## */}\r\n        <div style={{backgroundColor: \"#d32323\"}}>\r\n            {(sessionStorage.getItem(\"currname\")) ? (\r\n                <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                    <h2 style={{color: \"white\", marginLeft: \"20px\", marginTop: \"20px\", marginBottom: \"20px\"}}>{\"Welcome, \" + sessionStorage.getItem(\"currname\")}</h2>\r\n                    <Link to='/'>\r\n                        <Button style={{color: \"black\", marginLeft: \"20px\", backgroundColor: \"white\"}} variant=\"outlined\" color=\"primary\" onClick={handleLogout}>Logout</Button>\r\n                    </Link>\r\n                </div>\r\n            ) : (\r\n                <div>\r\n                    <Link to='/login'>\r\n                        <Button style={{color: \"black\", marginLeft: \"20px\", backgroundColor: \"white\", marginTop: \"20px\", marginBottom: \"20px\"}}>Login</Button>\r\n                    </Link>\r\n                    <Link to='/signup'>\r\n                        <Button style={{color: \"black\", marginLeft: \"20px\", backgroundColor: \"white\", marginTop: \"20px\", marginBottom: \"20px\"}} >Signup</Button>\r\n                    </Link>\r\n                </div>\r\n            )}          \r\n        </div>\r\n        {/*############ If home = true, display home page, background image, and 3 nearest business to current location ######## */}\r\n        <div>\r\n            {(props.home && !isLoading) ? (\r\n                <div>\r\n                <div className=\"home_container_img\">\r\n                    <img className=\"bg_image\" src = {background_image} alt = \"background\" />\r\n                    <h3 className=\"bg_text\">Welcome to Yelp Clone Project!</h3>\r\n                    <p className=\"bg_text2\">Photo from Yelp.com</p>\r\n                </div>\r\n                <h2 className=\"home_h2\"> Explore Business Nearby!</h2>\r\n                <Grid container spacing={0}>\r\n                    {business_near.map(business => (\r\n                        <Grid item xs={12} sm={4} key={business.business_id}>\r\n                            <Card className=\"businessCardHome\">\r\n                                <div className=\"businessCardHomeContents\">\r\n                                    <div className=\"businessCardHomeHeader\">\r\n                                        <CardMedia src={business.photo} component=\"img\" title=\"images\" />\r\n                                        <Link to={`/business/${business.business_id}`}>\r\n                                            <h3>{business.name}</h3>\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div className=\"starsReviewCountHome\">                      \r\n                                        {retrieve_stars(business.stars)}\r\n                                        <p>{business.review_count + \" reviews\"}</p>\r\n                                    </div>  \r\n                                    <p><strong>{business.categories}</strong></p>\r\n                                    <p>{business.city + \", \" + business.state}</p>\r\n                                </div>\r\n                            </Card>\r\n                        </Grid>\r\n                    ))}\r\n                </Grid>\r\n                </div>\r\n            ) : (isLoading) ? (\r\n                <div>\r\n                    <Skeleton animation=\"wave\" variant=\"rect\" style={{width: \"100%\", height: \"400px\", marginBottom: \"40px\"}}/>\r\n                    <Grid container spacing={0}>\r\n                        <Grid item xs={12} sm={4}>\r\n                            <Card className=\"businessCardHome\">\r\n                                <Skeleton animation=\"wave\" style={{height: \"150px\"}}/>\r\n                            </Card>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4}>\r\n                            <Card className=\"businessCardHome\">\r\n                                    <Skeleton animation=\"wave\" style={{height: \"150px\"}}/>\r\n                            </Card>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4}>\r\n                            <Card className=\"businessCardHome\">\r\n                                    <Skeleton animation=\"wave\" style={{height: \"150px\"}}/>\r\n                            </Card>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            ) : (\r\n                <div></div>\r\n            )}\r\n        </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default withStyles(styles)(Header);\r\n","import React from 'react';\r\nimport { geolocated } from 'react-geolocated';\r\n\r\n// components and CSS imports\r\nimport Header from './header';\r\n\r\n// Home is simple as some parts of the home screen will be displayed on the header.js file\r\n// Home just loads the coordinates of the current location\r\n// Code is referenced from https://www.npmjs.com/package/react-geolocated\r\nfunction Home (props) {    \r\n    return (\r\n        !props.isGeolocationAvailable ? (\r\n            <div>Your browser does not support Geolocation</div>\r\n        ) : !props.isGeolocationEnabled ? (\r\n            <div>Geolocation is not enabled</div>\r\n        ) : props.coords ? (\r\n            <div>\r\n                {sessionStorage.setItem('latlon', [props.coords.latitude, props.coords.longitude])}\r\n                <Header home={true}/>\r\n            </div>\r\n        ) : (\r\n            <div>Getting the location data&hellip; </div>\r\n        )\r\n    ); \r\n}\r\n\r\nexport default geolocated({ positionOptions: { enableHighAccuracy: false, }, userDecisionTimeout: 5000,})(Home);\r\n","import React, {useState, useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n// components and CSS imports\r\nimport Header from './header';\r\nimport './users.css';\r\n\r\n// Images Import\r\nimport five from '../images/five.JPG';\r\nimport four_half from '../images/four_half.JPG';\r\nimport four from '../images/four.JPG';\r\nimport three_half from '../images/three_half.JPG';\r\nimport three from '../images/three.JPG';\r\nimport two_half from '../images/two_half.JPG';\r\nimport two from '../images/two.JPG';\r\nimport one_half from '../images/one_half.JPG';\r\nimport one from '../images/one.JPG';\r\nimport zero from '../images/zero.JPG';\r\n\r\n// Material UI imports\r\nimport { Grid, Card } from '@material-ui/core';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\n// Render user page\r\nfunction Users (props){\r\n    // get user_id from props\r\n    const user_id = props.rp.match.params.id;\r\n\r\n    // react hooks to store user data\r\n    const [user_data, setUserData] = useState({});\r\n\r\n    // react hooks to store user reviews\r\n    const [user_reviews, setUserReviews] = useState([]);\r\n\r\n    // react hooks to keep track of loading state\r\n    const [isLoadingUser, setLoadingUser] = useState(true);\r\n    const [isLoadingReview, setLoadingReview] = useState(true);\r\n\r\n\r\n    // fetch user data and user reviews. Rerenders once user id (dependencies) changes.\r\n    useEffect(() => {\r\n        // fetch user data\r\n        fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/getOneUserData?user_id=' + user_id, {mode: 'cors'}).then(res => res.json()).then(data => {\r\n            setUserData(data);\r\n            setLoadingUser(false);\r\n        }).catch(() => {\r\n            console.log(\"Error fetch getOneUserData in users.js\");\r\n            setLoadingUser(true);\r\n        })\r\n\r\n        // fetch user reviews\r\n        fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/getOneUserReview?user_id=' + user_id, {mode: 'cors'}).then(res => res.json()).then(data => {\r\n            setUserReviews(data);\r\n            setLoadingReview(false);\r\n        }).catch(() => {\r\n            console.log(\"Error fetch getOneUserReview in users.js\");\r\n            setLoadingReview(true);\r\n        })\r\n\r\n        // Fake data \r\n        /*setUserData({\r\n            \"average_stars\": 3.5,\r\n            \"cool\": 0,\r\n            \"elite\": \"2010,2011,2012,2013,2014,2015,2016,2017,2018\",\r\n            \"fans\": 0,\r\n            \"friends\": 4,\r\n            \"funny\": 0,\r\n            \"id\": 700,\r\n            \"name\": \"Kelly\",\r\n            \"profile_pic\": \"https://bestnycacupuncturist.com/wp-content/uploads/2016/11/anonymous-avatar-sm.jpg\",\r\n            \"review_count\": 2,\r\n            \"useful\": 0,\r\n            \"user_id\": \"Iq9EiUS7FmFB6Uw3PBghsQ\",\r\n            \"yelping_since\": \"October 2015\"\r\n          });\r\n        \r\n        setUserReviews(\r\n            [\r\n                {\r\n                  \"address\": \"2526 E Carson St\",\r\n                  \"attributes\": {\r\n                    \"Alcohol\": \"full_bar\",\r\n                    \"Ambience\": \"{touristy: False, hipster: False, romantic: False, divey: True, intimate: False, trendy: False, upscale: False, classy: True, casual: True}\",\r\n                    \"BikeParking\": \"True\",\r\n                    \"BusinessAcceptsCreditCards\": \"True\",\r\n                    \"BusinessParking\": \"{garage: False, street: True, validated: False, lot: False, valet: False}\",\r\n                    \"Caters\": \"False\",\r\n                    \"GoodForKids\": \"False\",\r\n                    \"GoodForMeal\": \"{dessert: False, latenight: False, lunch: False, dinner: False, brunch: False, breakfast: False}\",\r\n                    \"HasTV\": \"True\",\r\n                    \"Music\": \"{dj: False, background_music: False, no_music: False, jukebox: False, live: True, video: False, karaoke: False}\",\r\n                    \"NoiseLevel\": \"quiet\",\r\n                    \"OutdoorSeating\": \"True\",\r\n                    \"RestaurantsAttire\": \"casual\",\r\n                    \"RestaurantsDelivery\": \"False\",\r\n                    \"RestaurantsGoodForGroups\": \"True\",\r\n                    \"RestaurantsPriceRange2\": \"1\",\r\n                    \"RestaurantsReservations\": \"False\",\r\n                    \"RestaurantsTakeOut\": \"True\",\r\n                    \"WiFi\": \"free\"\r\n                  },\r\n                  \"business_id\": \"4o2DEgSgY2sDZ16g6U03-w\",\r\n                  \"categories\": \"Restaurants, Nightlife, Bars, American (Traditional)\",\r\n                  \"city\": \"Pittsburgh\",\r\n                  \"cool\": 0,\r\n                  \"country\": \"US\",\r\n                  \"date\": \"11/30/2016\",\r\n                  \"funny\": 0,\r\n                  \"hours\": {\r\n                    \"Friday\": \"10:0-2:0\",\r\n                    \"Monday\": \"10:0-2:0\",\r\n                    \"Saturday\": \"10:0-2:0\",\r\n                    \"Sunday\": \"11:0-2:0\",\r\n                    \"Thursday\": \"10:0-2:0\",\r\n                    \"Tuesday\": \"10:0-2:0\",\r\n                    \"Wednesday\": \"10:0-2:0\"\r\n                  },\r\n                  \"id\": 8,\r\n                  \"is_open\": 1,\r\n                  \"latitude\": 40.4272666,\r\n                  \"longitude\": -79.9687359,\r\n                  \"name\": \"Excuses Bar & Grill\",\r\n                  \"photo\": \"http://blog.caesars.com/las-vegas/wp-content/uploads/2019/04/favorite-bistro-patio2-720x540.jpg\",\r\n                  \"postal_code\": \"15203\",\r\n                  \"rating\": 5,\r\n                  \"review_count\": 35,\r\n                  \"stars\": 4,\r\n                  \"state\": \"PA\",\r\n                  \"text\": \"Love the wings!! And the daytime bartender is super sweet when we order take out so thank you :)\",\r\n                  \"useful\": 0,\r\n                  \"user_id\": \"Iq9EiUS7FmFB6Uw3PBghsQ\"\r\n                }\r\n              ]\r\n        )*/\r\n    }, [user_id]);\r\n    \r\n\r\n    // function to retrieve stars image based on ratings\r\n    const retrieve_stars = (stars_rating) => {\r\n        if (stars_rating === 5){\r\n            return (<img src={five} alt=\"5* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 4.5){\r\n            return(<img src={four_half} alt=\"4.5* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 4){\r\n            return(<img src={four} alt=\"4* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 3.5){\r\n            return(<img src={three_half} alt=\"3.5* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 3){\r\n            return(<img src={three} alt=\"3* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 2.5){\r\n            return(<img src={two_half} alt=\"2.5* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 2){\r\n            return(<img src={two} alt=\"2* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 1.5){\r\n            return(<img src={one_half} alt=\"1.5* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 1){\r\n            return(<img src={one} alt=\"1* rating\" className=\"starsStyle\" />);\r\n        } else {\r\n            return (<img src={zero} alt=\"0* rating\" className=\"starsStyle\" />);\r\n        }\r\n    }\r\n\r\n    // function to get $ signs based on business priceratings2\r\n    const getPriceRange = (dollar_string) => {\r\n        if (parseInt(dollar_string) === 5){\r\n            return \"$$$$$\"\r\n        } else if (parseInt(dollar_string) === 4){\r\n            return \"$$$$\"\r\n        } else if (parseInt(dollar_string) === 3){\r\n            return \"$$$\"\r\n        } else if (parseInt(dollar_string) === 2){\r\n            return \"$$\"\r\n        } else if (parseInt(dollar_string) === 1){\r\n            return \"$\"\r\n        } else {\r\n            return \"\"\r\n        }\r\n    }\r\n\r\n    // preprocess and filter categories (Remove unwanted ones)\r\n    const filterCategories = (raw_categories) => {\r\n        const splitted = raw_categories.split(\",\").map(item=>item.trim());\r\n        for(var i = splitted.length - 1; i >= 0; i--) {\r\n            if(splitted[i].toLowerCase() === \"restaurants\" || splitted[i].toLowerCase() === \"nightlife\" || splitted[i].toLowerCase() === \"food\"\r\n            || splitted[i].toLowerCase() === \"salad\") {\r\n                splitted.splice(i, 1);\r\n            }\r\n        }\r\n        return splitted.join(', ')\r\n    }\r\n    \r\n\r\n    return (\r\n        <div>\r\n            {/*###################### Header ##########################*/}\r\n            <Header />\r\n            <Grid container spacing={0}>\r\n                <Grid item xs={12} sm={7} md={8}>\r\n                    {/*###################### User Reviews ##########################*/}\r\n                    <h2 style={{margin: \"20px\", color: \"#d32323\"}}>Reviews </h2>\r\n                    {user_reviews.map(review => (\r\n                        <Card className=\"reviewCards\" key={review.id}>\r\n                            <div className=\"reviewCardContents\" >\r\n                                <div className=\"reviewCardContentsHeader\">\r\n                                    <img className=\"reviewAvatar\" src={review.photo} alt=\"businessphoto\"/>\r\n                                    <div>\r\n                                        <Link to={`/business/${review.business_id}`}>\r\n                                            <h3>{review.name}</h3>\r\n                                        </Link>\r\n                                        <div style={{display: \"flex\", alignItems: \"center\", fontSize: \"75%\"}}>\r\n                                            <p>{getPriceRange(review.attributes.RestaurantsPriceRange2)}  &nbsp;</p>\r\n                                            <p>{filterCategories(review.categories)}</p>\r\n                                        </div>\r\n                                        <p style={{fontSize: \"85%\"}}>{review.address}</p>\r\n                                        <p style={{fontSize: \"85%\"}}>{review.city + \", \" + review.state + \" \" + review.postal_code}</p>\r\n                                    </div>\r\n                                </div>   \r\n                                <div style={{display: \"flex\", alignItems: \"center\", marginTop: \"10px\"}}>\r\n                                    {retrieve_stars(review.rating)}\r\n                                    <p>{review.date}</p>\r\n                                </div>\r\n                                <p style={{marginBottom: \"10px\"}}>{review.text}</p>\r\n                                <div className=\"funnyusefulcoolicons\">\r\n                                    <svg>\r\n                                        <path d=\"M12 1a11 11 0 0 1 11 11c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1zm0 20a9 9 0 1 0 0-18 9 9 0 0 0 0 18zm0-15.82a5.56 5.56 0 0 1 3 10.26V17a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-1.56a5.56 5.56 0 0 1 3-10.26zM11 17h2v-1h-2v1zm2.56-3a3.58 3.58 0 1 0-3.12 0h3.12z\"></path>\r\n                                    </svg>\r\n                                    <p>{\"Useful \" + review.useful}</p>\r\n                                    <svg>\r\n                                        <path d=\"M12 23C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11a11 11 0 0 1-11 11zm0-20a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm-4.5 8a1.5 1.5 0 0 1 3 0h-3zm6 0a1.5 1.5 0 0 1 3 0h-3zm-7.21 2h11.46a.26.26 0 0 1 .25.29c-.57 3.25-3 5.71-6 5.71s-5.43-2.46-5.96-5.71a.26.26 0 0 1 .25-.29z\"></path>\r\n                                    </svg>\r\n                                    <p>{\"Funny \" + review.funny}</p>\r\n                                    <svg>\r\n                                        <path d=\"M12 23C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11a11 11 0 0 1-11 11zm0-20a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm-7.48 7.56a.43.43 0 0 1 .41-.56h14.14a.43.43 0 0 1 .41.56l-.85 2.53a3 3 0 0 1-2.8 2 3 3 0 0 1-2.8-2l-.28-.85a.8.8 0 0 0-.75-.54.8.8 0 0 0-.75.54l-.28.85a3 3 0 0 1-2.8 2 3 3 0 0 1-2.8-2l-.85-2.53zm3.18 5.63a16.3 16.3 0 0 0 8.6 0 .25.25 0 0 1 .26.39A5.71 5.71 0 0 1 12 19a5.71 5.71 0 0 1-4.56-2.42.25.25 0 0 1 .26-.39z\"></path>\r\n                                    </svg>\r\n                                    <p>{\"Cool \" + review.cool}</p>\r\n                                </div>\r\n                            </div>\r\n                        </Card>\r\n                    ))}\r\n\r\n                    {/*########################### display when loading state ##################### */}\r\n                    {(isLoadingReview) ? (\r\n                        <div>\r\n                            <Card className=\"reviewCards\">\r\n                                <Skeleton animation=\"wave\" style={{height: \"150px\"}}/>\r\n                            </Card>\r\n                            <Card className=\"reviewCards\">\r\n                                <Skeleton animation=\"wave\" style={{height: \"150px\"}}/>\r\n                            </Card>\r\n                            <Card className=\"reviewCards\">\r\n                                <Skeleton animation=\"wave\" style={{height: \"150px\"}}/>\r\n                            </Card>\r\n                        </div>\r\n                    ) : (<div></div>)}\r\n\r\n                </Grid>\r\n                {/*###################### User Profile Card ##########################*/}\r\n                <Grid item xs={12} sm={5} md={4}>\r\n                    {(!isLoadingUser) ? (\r\n                        <Card className=\"profileCard\">\r\n                            <div className=\"profileCardContents\">\r\n                                <img src={user_data.profile_pic} style={{maxHeight: \"250px\", marginBottom: \"10px\"}} alt=\"https://bestnycacupuncturist.com/wp-content/uploads/2016/11/anonymous-avatar-sm.jpg\" />\r\n                                <h2>{user_data.name}</h2>\r\n                                <div style={{display: \"flex\", alignItems: \"center\", marginTop: \"10px\", marginBottom: \"10px\"}}>\r\n                                    {user_data.elite ? (\r\n                                        user_data.elite.split(\",\").slice(-5).map(yearElite => {\r\n                                            return (<div className=\"eliteBlock\" key={yearElite}>Elite '{yearElite.slice(-2)}</div>);\r\n                                        })\r\n                                    ) : <div></div>}\r\n                                </div>\r\n                                <div className=\"profileIcons\">\r\n                                    <svg>\r\n                                        <path d=\"M10.824 13.817l-2.482 5.946c-.69 1.65-2.995 1.65-3.684 0l-2.482-5.946C1.618 12.48 2.586 11 4.018 11h4.964c1.432 0 2.4 1.48 1.842 2.817zM6.5 9a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"></path>\r\n                                        <path d=\"M21.824 13.817l-2.482 5.946c-.69 1.65-2.995 1.65-3.684 0l-2.482-5.946c-.558-1.337.41-2.817 1.842-2.817h4.964c1.432 0 2.4 1.48 1.842 2.817zM17.5 9a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"></path>\r\n                                    </svg>\r\n                                    <p>{user_data.friends + \" Friends\"}</p>\r\n                                    <svg >\r\n                                        <path d=\"M21 6a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6zm-5.88 10.428l-3.16-1.938-3.05 2.01.59-3.457L7 10.596l3.457-.505L11.96 6.5l1.582 3.59 3.458.506-2.5 2.447.62 3.385z\"></path>\r\n                                    </svg>\r\n                                    <p>{user_data.review_count + \" Reviews\"}</p>\r\n                                    <svg>\r\n                                        <path d=\"M19 20H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h2.184A2.99 2.99 0 0 1 10 4h4a2.99 2.99 0 0 1 2.816 2H19a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3zM12.005 8.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z\"></path>\r\n                                    </svg>\r\n                                    <p>{\"0 Photos\"}</p>\r\n                                </div>\r\n                                <br/>\r\n                                <p style={{marginBottom: \"10px\"}}> <strong>Average Stars: </strong>{user_data.average_stars}</p>\r\n                                <p><strong>Review Votes: </strong></p>\r\n                                    <div className=\"funnyusefulcoolicons_user\">\r\n                                        <svg style={{viewBox:\"0 0 100 100\"}}>\r\n                                            <path d=\"M12 1a11 11 0 0 1 11 11c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1zm0 20a9 9 0 1 0 0-18 9 9 0 0 0 0 18zm0-15.82a5.56 5.56 0 0 1 3 10.26V17a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-1.56a5.56 5.56 0 0 1 3-10.26zM11 17h2v-1h-2v1zm2.56-3a3.58 3.58 0 1 0-3.12 0h3.12z\"></path>\r\n                                        </svg>\r\n                                        <p>{\"Useful \" + user_data.useful}</p>\r\n                                        <svg style={{viewBox:\"0 0 100 100\"}}>\r\n                                            <path d=\"M12 23C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11a11 11 0 0 1-11 11zm0-20a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm-4.5 8a1.5 1.5 0 0 1 3 0h-3zm6 0a1.5 1.5 0 0 1 3 0h-3zm-7.21 2h11.46a.26.26 0 0 1 .25.29c-.57 3.25-3 5.71-6 5.71s-5.43-2.46-5.96-5.71a.26.26 0 0 1 .25-.29z\"></path>\r\n                                        </svg>\r\n                                        <p>{\"Funny \" + user_data.funny}</p>\r\n                                        <svg style={{viewBox:\"0 0 100 100\"}}>\r\n                                            <path d=\"M12 23C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11a11 11 0 0 1-11 11zm0-20a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm-7.48 7.56a.43.43 0 0 1 .41-.56h14.14a.43.43 0 0 1 .41.56l-.85 2.53a3 3 0 0 1-2.8 2 3 3 0 0 1-2.8-2l-.28-.85a.8.8 0 0 0-.75-.54.8.8 0 0 0-.75.54l-.28.85a3 3 0 0 1-2.8 2 3 3 0 0 1-2.8-2l-.85-2.53zm3.18 5.63a16.3 16.3 0 0 0 8.6 0 .25.25 0 0 1 .26.39A5.71 5.71 0 0 1 12 19a5.71 5.71 0 0 1-4.56-2.42.25.25 0 0 1 .26-.39z\"></path>\r\n                                        </svg >\r\n                                        <p>{\"Cool \" + user_data.cool}</p>\r\n                                    </div>\r\n                                <br/>\r\n                                <p><strong>Yelping Since: </strong> {user_data.yelping_since}</p>\r\n                            </div>\r\n                        </Card>\r\n                    ) : (\r\n                        <Card className=\"profileCard\">\r\n                            <Skeleton animation=\"wave\" style={{height: \"200px\"}}/>\r\n                        </Card>\r\n                    )}\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n}\r\n  \r\nexport default Users;","import React, { useState, useEffect } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport ReactMapGL, {Marker, Popup} from 'react-map-gl';\r\n\r\n// Components and CSS imports\r\nimport Header from './header';\r\nimport './business.css';\r\n\r\n// Image Imports \r\nimport yelp_icon from '../images/yelp_icon.png';\r\nimport five from '../images/five.JPG';\r\nimport four_half from '../images/four_half.JPG';\r\nimport four from '../images/four.JPG';\r\nimport three_half from '../images/three_half.JPG';\r\nimport three from '../images/three.JPG';\r\nimport two_half from '../images/two_half.JPG';\r\nimport two from '../images/two.JPG';\r\nimport one_half from '../images/one_half.JPG';\r\nimport one from '../images/one.JPG';\r\nimport zero from '../images/zero.JPG';\r\n\r\n// Material UI Imports\r\nimport {Card, CardMedia, Avatar, Button, Grid } from '@material-ui/core';\r\nimport StarIcon from '@material-ui/icons/Star';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\n\r\nfunction Business (props){\r\n    // business_id is passed in as props from the main component\r\n    const business_id = props.rp.match.params.id;\r\n    \r\n    // React Hooks for Mapbox viewport\r\n    const [viewport, setViewport] = useState({\r\n        \"latitude\": null,\r\n        \"longitude\" : null,\r\n        \"width\" : \"15rem\",\r\n        \"height\" : \"15rem\",\r\n        \"zoom\": 12\r\n    });\r\n\r\n    // React hooks for selected pin in mapbox\r\n    const [selectedPin, setSelectedPin] = useState(null);         \r\n    \r\n    // React hooks to fetch data for current business\r\n    const [business_data, setBusinessData] = useState({});\r\n\r\n    // React hooks to fetch data for reviews crossed with users\r\n    const [business_reviews, setBusinessReviews] = useState([]);\r\n\r\n    // React hooks for loading state \r\n    const [isLoadingBusiness, setLoadingBusiness] = useState(true);\r\n    const [isLoadingReview, setLoadingReview] = useState(true);\r\n\r\n\r\n    // use effect to fetch business data and business review everytime the business id changes (dependant)\r\n    useEffect(() => {\r\n        fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/getOneBusinessData?business_id=' + business_id, {mode: \"cors\"}).then(res => res.json()).then(data => {\r\n            setBusinessData(data);\r\n            setViewport({\r\n                \"latitude\" : data.latitude,\r\n                \"longitude\" : data.longitude,\r\n                \"width\" : \"15rem\",\r\n                \"height\" : \"15rem\",\r\n                \"zoom\" : 12\r\n            });\r\n            setLoadingBusiness(false);\r\n        }).catch(() => {\r\n            console.log(\"error in getOneBusinessData\");\r\n            setLoadingBusiness(true);\r\n        })\r\n\r\n        fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/getOneBusinessReview?business_id=' + business_id, {mode: \"cors\"}).then(res => res.json()).then(data => {\r\n            setBusinessReviews(data);\r\n            setLoadingReview(false);\r\n        }).catch(() => {\r\n            console.log(\"error in getOneBusinessReview\");\r\n            setLoadingReview(true);\r\n        })\r\n\r\n        // FAKE DATA for fetch\r\n        /*setBusinessData({\r\n            \"address\": \"2526 E Carson St\",\r\n            \"attributes\": {\r\n                \"Alcohol\": \"full_bar\",\r\n                \"Ambience\": \"{touristy: False, hipster: False, romantic: False, divey: True, intimate: False, trendy: False, upscale: False, classy: True, casual: True}\",\r\n                \"BikeParking\": \"True\",\r\n                \"BusinessAcceptsCreditCards\": \"True\",\r\n                \"BusinessParking\": \"{garage: False, street: True, validated: False, lot: False, valet: False}\",\r\n                \"Caters\": \"False\",\r\n                \"GoodForKids\": \"False\",\r\n                \"GoodForMeal\": \"{dessert: False, latenight: False, lunch: False, dinner: False, brunch: False, breakfast: False}\",\r\n                \"HasTV\": \"True\",\r\n                \"Music\": \"{dj: False, background_music: False, no_music: False, jukebox: False, live: True, video: False, karaoke: False}\",\r\n                \"NoiseLevel\": \"quiet\",\r\n                \"OutdoorSeating\": \"True\",\r\n                \"RestaurantsAttire\": \"casual\",\r\n                \"RestaurantsDelivery\": \"False\",\r\n                \"RestaurantsGoodForGroups\": \"True\",\r\n                \"RestaurantsPriceRange2\": \"1\",\r\n                \"RestaurantsReservations\": \"False\",\r\n                \"RestaurantsTakeOut\": \"True\",\r\n                \"WiFi\": \"free\"\r\n            },\r\n            \"business_id\": \"4o2DEgSgY2sDZ16g6U03-w\",\r\n            \"categories\": \"Restaurants, Nightlife, Bars, American (Traditional)\",\r\n            \"city\": \"Pittsburgh\",\r\n            \"country\": \"US\",\r\n            \"hours\": {\r\n                \"Friday\": \"10:00 am-2:00 am\",\r\n                \"Monday\": \"10:00 am-2:00 am\",\r\n                \"Saturday\": \"10:00 am-2:00 am\",\r\n                \"Sunday\": \"11:00 am-2:00 am\",\r\n                \"Thursday\": \"10:00 am-2:00 am\",\r\n                \"Tuesday\": \"10:00 am-2:00 am\",\r\n                \"Wednesday\": \"10:00 am-2:00 am\"\r\n            },\r\n            \"id\": 0,\r\n            \"is_open\": 1,\r\n            \"latitude\": 40.4272666,\r\n            \"longitude\": -79.9687359,\r\n            \"name\": \"Excuses Bar & Grill\",\r\n            \"photo\": \"http://blog.caesars.com/las-vegas/wp-content/uploads/2019/04/favorite-bistro-patio2-720x540.jpg\",\r\n            \"postal_code\": \"15203\",\r\n            \"review_count\": 35,\r\n            \"stars\": 4,\r\n            \"state\": \"PA\"\r\n            });\r\n        console.log(\"business_data inside\", business_data);\r\n\r\n        setViewport({\"latitude\": 37.7749,\r\n                    \"longitude\": -122.4194, \r\n                    \"width\" : \"300px\",\r\n                    \"height\" : \"300px\",\r\n                    \"zoom\": 12})\r\n        console.log(\"viewport_inside\", viewport);\r\n\r\n\r\n        // all review field plus user_name and profile_pic key in this dataset\r\n        setBusinessReviews(\r\n            [\r\n                {\r\n                    \"average_stars\": 3.5,\r\n                    \"business_id\": \"4o2DEgSgY2sDZ16g6U03-w\",\r\n                    \"cool\": 0,\r\n                    \"date\": \"11/30/2016\",\r\n                    \"elite\": \"\",\r\n                    \"fans\": 0,\r\n                    \"friends\": 4,\r\n                    \"funny\": 0,\r\n                    \"id\": 8,\r\n                    \"name\": \"Kelly\",\r\n                    \"profile_pic\": \"https://bestnycacupuncturist.com/wp-content/uploads/2016/11/anonymous-avatar-sm.jpg\",\r\n                    \"rating\": 5,\r\n                    \"review_count\": 2,\r\n                    \"text\": \"Love the wings!! And the daytime bartender is super sweet when we order take out so thank you :)\",\r\n                    \"useful\": 0,\r\n                    \"user_id\": \"Iq9EiUS7FmFB6Uw3PBghsQ\",\r\n                    \"yelping_since\": \"2015-10-25 20:51:36\"\r\n                  },\r\n                  {\r\n                    \"average_stars\": 4.53,\r\n                    \"business_id\": \"4o2DEgSgY2sDZ16g6U03-w\",\r\n                    \"cool\": 7,\r\n                    \"date\": \"08/19/2016\",\r\n                    \"elite\": \"2017\",\r\n                    \"fans\": 2,\r\n                    \"friends\": 2542,\r\n                    \"funny\": 0,\r\n                    \"id\": 5,\r\n                    \"name\": \"Kailin\",\r\n                    \"profile_pic\": \"https://bestnycacupuncturist.com/wp-content/uploads/2016/11/anonymous-avatar-sm.jpg\",\r\n                    \"rating\": 5,\r\n                    \"review_count\": 38,\r\n                    \"text\": \"Have only been here twice, once for a drink and once for food. Both times were great! It is just a little dive bar but a great atmosphere. We were told to go and try the food the second time so my boyfriend and I did. IT WAS AMAZING! One of the best burgers and gyros in the city. We both agreed that their gyro was better than Mike and Tonys! We will definitely be back to try more food. The bartender was so sweet and made great recommendations as well!\",\r\n                    \"useful\": 23,\r\n                    \"user_id\": \"BHyCKAAMqXfxpSB4Z9QtAw\",\r\n                    \"yelping_since\": \"2016-08-28 15:38:01\"\r\n                  },\r\n                  {\r\n                    \"average_stars\": 4.26,\r\n                    \"business_id\": \"4o2DEgSgY2sDZ16g6U03-w\",\r\n                    \"cool\": 6,\r\n                    \"date\": \"02/11/2016\",\r\n                    \"elite\": \"\",\r\n                    \"fans\": 3,\r\n                    \"friends\": 3934,\r\n                    \"funny\": 7,\r\n                    \"id\": 6,\r\n                    \"name\": \"Rick\",\r\n                    \"profile_pic\": \"https://bestnycacupuncturist.com/wp-content/uploads/2016/11/anonymous-avatar-sm.jpg\",\r\n                    \"rating\": 5,\r\n                    \"review_count\": 25,\r\n                    \"text\": \"Good beer, dive bar selections, reasonable prices. Food until early evening. Great service. Cool south side location with parking and all. \\n\\nA diamond in the rough.\",\r\n                    \"useful\": 11,\r\n                    \"user_id\": \"e2goTuVddLIT9Yz_6X6hCg\",\r\n                    \"yelping_since\": \"2014-05-23 19:51:14\"\r\n                  }\r\n            ]\r\n        );*/\r\n\r\n    }, [business_id]); \r\n    \r\n    \r\n    \r\n    // function to retrieve star images depending on the rating\r\n    const retrieve_stars = (stars_rating) => {\r\n        if (stars_rating === 5){\r\n            return (<img src={five} alt=\"5* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 4.5){\r\n            return(<img src={four_half} alt=\"4.5* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 4){\r\n            return(<img src={four} alt=\"4* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 3.5){\r\n            return(<img src={three_half} alt=\"3.5* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 3){\r\n            return(<img src={three} alt=\"3* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 2.5){\r\n            return(<img src={two_half} alt=\"2.5* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 2){\r\n            return(<img src={two} alt=\"2* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 1.5){\r\n            return(<img src={one_half} alt=\"1.5* rating\" className=\"starsStyle\" />);\r\n        } else if (stars_rating === 1){\r\n            return(<img src={one} alt=\"1* rating\" className=\"starsStyle\" />);\r\n        } else {\r\n            return (<img src={zero} alt=\"0* rating\" className=\"starsStyle\" />);\r\n        }\r\n    }\r\n\r\n    // function to get $ signs depending on the price range depends on (attributes.RestaurantsPriceRange2) of business_data\r\n    const getPriceRange = (dollar_string) => {\r\n        if (parseInt(dollar_string) === 5){\r\n            return \"$$$$$\"\r\n        } else if (parseInt(dollar_string) === 4){\r\n            return \"$$$$\"\r\n        } else if (parseInt(dollar_string) === 3){\r\n            return \"$$$\"\r\n        } else if (parseInt(dollar_string) === 2){\r\n            return \"$$\"\r\n        } else if (parseInt(dollar_string) === 1){\r\n            return \"$\"\r\n        } else {\r\n            return \"\"\r\n        }\r\n    }\r\n\r\n    // preprocess and filter business categories that are unwanted (generic business categories)\r\n    // Remove: \"restaurants\", \"nightlife\", \"food\", \"salad\"\r\n    const filterCategories = (raw_categories) => {\r\n        const splitted = raw_categories.split(\",\").map(item=>item.trim());\r\n        for(var i = splitted.length - 1; i >= 0; i--) {\r\n            if(splitted[i].toLowerCase() === \"restaurants\" || splitted[i].toLowerCase() === \"nightlife\" || splitted[i].toLowerCase() === \"food\"\r\n            || splitted[i].toLowerCase() === \"salad\") {\r\n                splitted.splice(i, 1);\r\n            }\r\n        }\r\n        return splitted.join(', ')\r\n    }\r\n\r\n    // get todays open and close date\r\n    const openCloseToday = (business_data_hours) => {\r\n        // get current day, hours, minutes\r\n        let currDay = new Date().getDay();\r\n        let currTimeHours = new Date().getHours();\r\n        let currTimeMinutes = new Date().getMinutes();\r\n\r\n        // to compensate for early morning hours up to 4:00am\r\n        // if up to 4 am, use previous day open/close\r\n        if (currTimeHours === 0 || currTimeHours === 1 || currTimeHours === 2 || currTimeHours === 3 || currTimeHours === 4){\r\n            currDay = (currDay === 0) ? 6 : currDay - 1\r\n        }\r\n\r\n        // preprocess and return (Open/Close and Operating hours)\r\n        const preprocessHours = (openHours, currTimeHours, currTimeMinutes) => {\r\n            // if closed\r\n            if (openHours === \"Closed\"){\r\n                return <p className=\"todayClosed\"><strong>Closed</strong></p>;\r\n            }\r\n\r\n            // compensate for early morning up to 4:00am, use prev day open close\r\n            if (currTimeHours === 0 || currTimeHours === 1 || currTimeHours === 2 || currTimeHours === 3 || currTimeHours === 4){\r\n                currTimeHours = currTimeHours + 24\r\n            }    \r\n\r\n            // split into open and close\r\n            const splitted = openHours.split('-').map(item => item.split(':'));\r\n\r\n            // extract open close hours\r\n            let oh = parseInt(splitted[0][0]);\r\n            let om = parseInt(splitted[0][1].substring(0,2));\r\n            let ch = parseInt(splitted[1][0]);\r\n            let cm = parseInt(splitted[1][1].substring(0,2));\r\n            \r\n            // multipliers for am or pm\r\n            let oap = 0; // open am or pm\r\n            oap = (splitted[0][1].slice(-2) === \"am\" || oh === 12) ? 0 : 12  // multiplier to add if am=0, pm=12 for close only\r\n            let cap = 0; // close am or pm\r\n            cap = (splitted[1][1].slice(-2) === \"am\") ? 24 : 12  // multiplier to add if am=24, pm=12 for close only\r\n            \r\n            // add the multipliers\r\n            oh = oap + oh\r\n            ch = cap + ch\r\n\r\n            // compare current time to open and close hour\r\n            if (currTimeHours > oh && currTimeHours < ch){\r\n                return <p><span className=\"todayOpen\"><strong>Open</strong></span> {openHours}</p>\r\n            } else if (currTimeHours === oh){\r\n                if (currTimeMinutes <= om){\r\n                    return <p><span className=\"todayClosed\"><strong>Closed</strong></span> {openHours}</p>\r\n                } else {\r\n                    return <p><span className=\"todayOpen\"><strong>Open</strong></span> {openHours}</p>\r\n                }\r\n            } else if (currTimeHours === ch){\r\n                if (currTimeMinutes > cm){\r\n                    return <p><span className=\"todayClosed\"><strong>Closed</strong></span> {openHours}</p>\r\n                } else {\r\n                    return <p><span className=\"todayOpen\"><strong>Open</strong></span> {openHours}</p>\r\n                }\r\n            } else {\r\n                return <p><span className=\"todayClosed\"><strong>Closed</strong></span> {openHours}</p>\r\n            }\r\n        }\r\n\r\n        // selector for days\r\n        if (currDay === 0){\r\n            return preprocessHours(business_data_hours.Sunday, currTimeHours, currTimeMinutes);\r\n        } else if (currDay === 1){\r\n            return preprocessHours(business_data_hours.Monday, currTimeHours, currTimeMinutes);\r\n        } else if (currDay === 2){\r\n            return preprocessHours(business_data_hours.Tuesday, currTimeHours, currTimeMinutes);\r\n        } else if (currDay === 3){\r\n            return preprocessHours(business_data_hours.Wednesday, currTimeHours, currTimeMinutes);\r\n        } else if (currDay === 4){\r\n            return preprocessHours(business_data_hours.Thursday, currTimeHours, currTimeMinutes);\r\n        } else if (currDay === 5){\r\n            return preprocessHours(business_data_hours.Friday, currTimeHours, currTimeMinutes);\r\n        } else if (currDay === 6){\r\n            return preprocessHours(business_data_hours.Saturday, currTimeHours, currTimeMinutes);\r\n        } else {\r\n            return <p></p>;\r\n        }\r\n    }\r\n\r\n    // preprocess amenities field\r\n    const preprocessAttributes = (business_data_attributes) => {\r\n\r\n        // preprocess amenities field can be of 3 types\r\n        // {keys: T/F}, T/F, string\r\n        const processAttributesFurther = (attribute_val) => {\r\n            let splitted = attribute_val.slice().split(\":\");\r\n            let attributes = null;\r\n\r\n            // if the attribute is a dictionary\r\n            if (splitted.length > 2){\r\n                // replace {} characters and split by :space \r\n                splitted = attribute_val.split(\",\").map(item => item.replace(\"}\",\"\").replace(\"{\",\"\").trim()).map(item => item.split(\": \"));\r\n                // if attribute is true keep else set to \"\" and filter those out\r\n                attributes = splitted.map(item => (item[1] === \"True\") ? item[0] : (\"\"));\r\n                attributes = attributes.filter(item => item !== \"\");\r\n                // if no attributes left return N/A\r\n                if (attributes.length === 0){\r\n                    return \"N/A\";\r\n                }\r\n                // join attributes\r\n                attributes = attributes.map(item => item.charAt(0).toUpperCase() + item.slice(1)) // capitalize first letter\r\n                attributes = attributes.join(\", \");\r\n            } else {\r\n            // type is T/F and string\r\n                if (attribute_val === \"True\"){\r\n                    attributes = \"Yes\";\r\n                } else if (attribute_val === \"False\"){\r\n                    attributes = \"No\";\r\n                } else {\r\n                    attributes = attribute_val;\r\n                    attributes = attributes.charAt(0).toUpperCase() + attributes.slice(1); // capitalize first letter\r\n                    attributes = attributes.replace(\"_\", \" \");\r\n                }\r\n            }\r\n            // return the attributes\r\n            return attributes;\r\n        }\r\n\r\n        // preprocess the keys to add spaces and capitalize, while removing words like Restaurants, and Business\r\n        const processAttributesKeys = (attribute_keys) => {\r\n            let keys = attribute_keys.replace(/([A-Z])/g, ' $1').trim();  //add space before capital letters and trim\r\n            keys = keys.replace(\"T V\", \"TV\");\r\n            keys = keys.replace(\"Wi Fi\", \"WiFi\");\r\n            return keys.replace(\"Restaurants\", \"\").replace(\"Business\", \"\");\r\n        }\r\n\r\n        // return list of attributes\r\n        return (\r\n        <div>\r\n            {Object.keys(business_data_attributes).map(function(key, index) {\r\n                if (key !== \"RestaurantsPriceRange2\"){\r\n                    return (\r\n                    <div key={key} className=\"attributeList\">\r\n                        <div><strong>{processAttributesKeys(key)}: </strong></div>\r\n                        <div>{processAttributesFurther(business_data_attributes[key])}</div>\r\n                    </div>\r\n                    );\r\n                }\r\n            })}\r\n        </div>\r\n        );\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/*############################ Header ######################*/}\r\n            <Header />\r\n            <Grid container spacing={0}>\r\n                {/* ####################### Reviews Card #################### */}\r\n                <Grid item xs={12} sm={7} md={8}>\r\n                    <Link to={`/writeareview/${business_data.business_id}/${sessionStorage.getItem(\"user_id\")}`}>\r\n                    <Button variant=\"contained\" style={{background: \"#f43939\", color: \"white\", margin: \"20px\", alignItems: \"center\"}}>\r\n                        <StarIcon style={{ color: \"white\", marginRight: \"5px\"}} />\r\n                        Write a Review\r\n                    </Button>\r\n                    </Link>\r\n\r\n                    {business_reviews.map(review => (\r\n                        <Card className=\"reviewCards\"  key={review.id}>\r\n                            <div className=\"reviewCardContents\">\r\n                                <Grid container spacing={0}>\r\n                                    <Grid item xs={12} sm={12} md={4}>\r\n                                        <div className=\"reviewCardContentsHeader\">\r\n                                            <Avatar alt={review.name} src={review.profile_pic} className=\"reviewAvatar\"/>\r\n                                            <Link to={`/users/${review.user_id}`}>\r\n                                                <h3>{review.name}</h3>\r\n                                            </Link>\r\n                                        </div>\r\n                                        <div className=\"profileIconsReviews\">\r\n                                            <div style={{display: \"flex\", marginTop: \"10px\"}}>\r\n                                                <svg>\r\n                                                    <path d=\"M7.904 9.43l-2.098 4.697a.9.9 0 0 1-1.612 0L2.096 9.43a.902.902 0 0 1 .806-1.305h4.196c.67 0 1.105.705.806 1.305zM5 7.375a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"></path>\r\n                                                    <path d=\"M15.904 9.43l-2.098 4.697a.89.89 0 0 1-.806.498.89.89 0 0 1-.806-.498L10.096 9.43a.902.902 0 0 1 .806-1.305h4.195c.67 0 1.106.705.807 1.305zM13 7.375a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"></path>\r\n                                                </svg>\r\n                                                <p style={{fontSize: \"90%\"}}><strong>{review.friends + \" Friends\"}</strong></p>\r\n                                            </div>\r\n                                            <div style={{display: \"flex\"}}>\r\n                                                <svg>\r\n                                                    <path d=\"M13 3H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1.505 9.643l-2.526-1.55L6.526 12.7 7 9.934 5 7.977l2.766-.404L8.97 4.7l1.264 2.873L13 7.977l-2 1.957.495 2.71z\"></path>\r\n                                                </svg>\r\n                                                <p style={{fontSize: \"90%\"}}><strong>{review.review_count + \" Reviews\"}</strong></p>\r\n                                            </div>\r\n                                            <div style={{display: \"flex\"}}>\r\n                                                <svg>\r\n                                                    <path d=\"M15 15H3a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2h2a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2zM9 5a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm0 6.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z\"></path>\r\n                                                </svg>\r\n                                                <p style={{fontSize: \"90%\"}}><strong>{\"0 Photos\"}</strong></p>\r\n                                            </div>\r\n                                        </div>    \r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12} md={8}> \r\n                                        <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                                            {retrieve_stars(review.rating)}\r\n                                            <p>{review.date}</p>\r\n                                        </div>\r\n                                        <p>{review.text}</p>\r\n                                        <div className=\"funnyusefulcoolicons\">\r\n                                            <svg style={{viewBox:\"0 0 100 100\"}}>\r\n                                                <path d=\"M12 1a11 11 0 0 1 11 11c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1zm0 20a9 9 0 1 0 0-18 9 9 0 0 0 0 18zm0-15.82a5.56 5.56 0 0 1 3 10.26V17a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-1.56a5.56 5.56 0 0 1 3-10.26zM11 17h2v-1h-2v1zm2.56-3a3.58 3.58 0 1 0-3.12 0h3.12z\"></path>\r\n                                            </svg>\r\n                                            <p>{\"Useful \" + review.useful}</p>\r\n                                            <svg style={{viewBox:\"0 0 100 100\"}}>\r\n                                                <path d=\"M12 23C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11a11 11 0 0 1-11 11zm0-20a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm-4.5 8a1.5 1.5 0 0 1 3 0h-3zm6 0a1.5 1.5 0 0 1 3 0h-3zm-7.21 2h11.46a.26.26 0 0 1 .25.29c-.57 3.25-3 5.71-6 5.71s-5.43-2.46-5.96-5.71a.26.26 0 0 1 .25-.29z\"></path>\r\n                                            </svg>\r\n                                            <p>{\"Funny \" + review.funny}</p>\r\n                                            <svg style={{viewBox:\"0 0 100 100\"}}>\r\n                                                <path d=\"M12 23C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11a11 11 0 0 1-11 11zm0-20a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm-7.48 7.56a.43.43 0 0 1 .41-.56h14.14a.43.43 0 0 1 .41.56l-.85 2.53a3 3 0 0 1-2.8 2 3 3 0 0 1-2.8-2l-.28-.85a.8.8 0 0 0-.75-.54.8.8 0 0 0-.75.54l-.28.85a3 3 0 0 1-2.8 2 3 3 0 0 1-2.8-2l-.85-2.53zm3.18 5.63a16.3 16.3 0 0 0 8.6 0 .25.25 0 0 1 .26.39A5.71 5.71 0 0 1 12 19a5.71 5.71 0 0 1-4.56-2.42.25.25 0 0 1 .26-.39z\"></path>\r\n                                            </svg>\r\n                                            <p>{\"Cool \" + review.cool}</p>\r\n                                        </div>\r\n                                    </Grid> \r\n                                </Grid>\r\n                            </div>\r\n                        </Card>\r\n                    ))}\r\n                    \r\n                    {/*###################### Loading state review cards ########################### */}\r\n                    {(isLoadingReview) ? (\r\n                        <div>\r\n                            <Card className=\"reviewCards\">\r\n                                <Skeleton animation=\"wave\" style={{height: \"150px\"}}/>\r\n                            </Card>\r\n                            <Card className=\"reviewCards\">\r\n                                <Skeleton animation=\"wave\" style={{height: \"150px\"}}/>\r\n                            </Card>\r\n                            <Card className=\"reviewCards\">\r\n                                <Skeleton animation=\"wave\" style={{height: \"150px\"}}/>\r\n                            </Card>\r\n                            <Card className=\"reviewCards\">\r\n                                <Skeleton animation=\"wave\" style={{height: \"150px\"}}/>\r\n                            </Card>\r\n                            <Card className=\"reviewCards\">\r\n                                <Skeleton animation=\"wave\" style={{height: \"150px\"}}/>\r\n                            </Card>\r\n                        </div>\r\n                    ) : (<div></div>)}\r\n                </Grid>\r\n                <Grid item xs={12} sm={5} md={4}>\r\n                    {(business_data.business_id && !isLoadingBusiness) ? (\r\n                    <div>\r\n                        {/* ####################### Business Info Card #################### */}\r\n                        <Card className=\"businessCard\">\r\n                            <div className=\"businessCardContents\">\r\n                                <CardMedia src={business_data.photo} component=\"img\"\r\n                                            title=\"images\" />\r\n                                <h2 style={{marginTop: \"10px\"}}>{business_data.name}</h2>\r\n                                <div className=\"starsAndReviewCount\">\r\n                                    {retrieve_stars(business_data.stars)}\r\n                                    <p>{business_data.review_count + \" reviews\"}</p>\r\n                                </div>\r\n                                <div className=\"businessCardCategories\" >\r\n                                    <p>{getPriceRange(business_data.attributes.RestaurantsPriceRange2)}  &nbsp;</p>\r\n                                    <p>{filterCategories(business_data.categories)}</p>\r\n                                </div>\r\n                                {openCloseToday(business_data.hours)}\r\n                            </div>\r\n                        </Card>\r\n                        {/* ####################### Business Map & Location Card #################### */}\r\n                        <Card className=\"businessCard\">\r\n                            <div className=\"mapContainer\">\r\n                                <h2>Location & Hours</h2>\r\n                                {viewport.latitude ? (\r\n                                <div className=\"map\">\r\n                                <ReactMapGL {...viewport}\r\n                                    mapStyle=\"mapbox://styles/jsantoso2/ckdm7wkmr2ttv1imov4f6zot3\"\r\n                                    mapboxApiAccessToken={\"pk.eyJ1IjoianNhbnRvc28yIiwiYSI6ImNrZG01eXZiYjE1N2kyeHBtaDNpanIzcGIifQ.lPtC048cZ-579QuODJc_vQ\"}\r\n                                    onViewportChange={viewport => {setViewport(viewport);}}>\r\n                                    <Marker key={0} latitude={business_data.latitude} longitude={business_data.longitude}>\r\n                                        <button className=\"marker-btn\" onClick={(e) => {\r\n                                            e.preventDefault();\r\n                                            setSelectedPin(business_data.business_id);\r\n                                        }}>\r\n                                            <img src={yelp_icon} alt=\"yelp_icon\" />\r\n                                        </button>\r\n                                    </Marker>\r\n                                    \r\n                                    {selectedPin ? (\r\n                                        <Popup latitude={business_data.latitude} longitude={business_data.longitude}\r\n                                            onClose={() => setSelectedPin(null)}>\r\n                                            <div>\r\n                                                <h2>{business_data.name}</h2>\r\n                                                <p>{business_data.address}</p>\r\n                                            </div>\r\n                                        </Popup>\r\n                                    ) : null }\r\n                                </ReactMapGL>\r\n\r\n                                <h4>{business_data.address}</h4>\r\n                                <p><strong>{business_data.city + \", \" + business_data.state + \" \" + business_data.postal_code}</strong></p>\r\n                                <div className=\"operatingHours\">\r\n                                    <p><strong>Mon &nbsp;</strong>{business_data.hours.Monday}</p>\r\n                                    <p><strong>Tue &nbsp;&nbsp;&nbsp;</strong>{business_data.hours.Tuesday}</p>\r\n                                    <p><strong>Wed &nbsp;</strong>{business_data.hours.Wednesday}</p>\r\n                                    <p><strong>Thu &nbsp;&nbsp;</strong>{business_data.hours.Thursday}</p>\r\n                                    <p><strong>Fri &nbsp;&nbsp;&nbsp;&nbsp;</strong>{business_data.hours.Friday}</p>\r\n                                    <p><strong>Sat &nbsp;&nbsp;&nbsp;</strong>{business_data.hours.Saturday}</p>\r\n                                    <p><strong>Sun &nbsp;&nbsp;</strong>{business_data.hours.Sunday}</p>\r\n                                </div>\r\n                                </div>) : (\r\n                                    <div></div>\r\n                                )}\r\n                            </div>\r\n                        </Card>\r\n                        {/* ####################### Business Attributes Card #################### */}\r\n                        <Card className=\"businessCard\">\r\n                            <div className=\"businessCardContents\">\r\n                                <h2 className=\"businessCardAmenities\">Amenities</h2>\r\n                                {preprocessAttributes(business_data.attributes)}\r\n                            </div>\r\n                        </Card>\r\n                    </div>\r\n                    ) : (isLoadingBusiness) ? (\r\n                        <div>\r\n                        <Card className=\"businessCard\">\r\n                            <Skeleton animation=\"wave\" style={{height: \"200px\"}}/>\r\n                        </Card>\r\n                        <Card className=\"businessCard\">\r\n                            <Skeleton animation=\"wave\" style={{height: \"200px\"}}/>\r\n                        </Card>\r\n                        <Card className=\"businessCard\">\r\n                            <Skeleton animation=\"wave\" style={{height: \"200px\"}}/>\r\n                        </Card>\r\n                        </div>\r\n                    ) : (<div></div>)} \r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default Business;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport ReactStarsRating from 'react-awesome-stars-rating';\r\n\r\n// compononents and CSS imports\r\nimport './writeareview.css';\r\n\r\n// images imports\r\nimport yelp_logo from '../images/yelp_logo.png';\r\nimport five from '../images/five.JPG';\r\nimport four from '../images/four.JPG';\r\nimport three from '../images/three.JPG';\r\nimport two from '../images/two.JPG';\r\nimport one from '../images/one.JPG';\r\n\r\n// Material UI Imports for dialogs\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n// Material UI imports\r\nimport {Card, Grid, Button, LinearProgress, Box, CircularProgress } from '@material-ui/core';\r\n\r\n// renders page for users to write reviews\r\nfunction WriteAReview (props){\r\n    // business id and user id passed in as props\r\n    const business_id = props.rp.match.params.bid;\r\n    const user_id = props.rp.match.params.uid\r\n    \r\n    // use History to redirect to business page after successful post\r\n    const history = useHistory();\r\n\r\n    // hooks to keep track of star change\r\n    const [starval, setStarval] = useState(0);\r\n\r\n    // function to change stars\r\n    const starsOnChange = (value) => { setStarval(value); };\r\n\r\n    // hooks for input text field\r\n    const [currText, setCurrText] = useState(\"\");\r\n\r\n    // hooks for prediction \r\n    const [currPrediction, setCurrPrediction] = useState(0);\r\n    const [currPredictionProba, setCurrPredictionProba] = useState([0,0,0,0,0]);\r\n\r\n    // function to change stars\r\n    const textOnChange = (e) => { setCurrText(e.target.value); };\r\n\r\n    // hooks for business data\r\n    const[business_data, setBusinessData] = useState({});\r\n\r\n    // hooks for loading state\r\n    const[isLoading, setLoading] = useState(false);\r\n\r\n    // hooks and method to set dialog to open/close\r\n    const [isopenDialog, setIsOpenDialog] = useState(false);\r\n    const handleClose = () => { setIsOpenDialog(false); };\r\n\r\n\r\n    // fetch business data from API which rerenders after changing business_id (dependencies)\r\n    useEffect(() => {\r\n        fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/getOneBusinessData?business_id=' + business_id, {mode: 'cors'}).then(res => res.json()).then(data => {\r\n            setBusinessData(data);\r\n        })\r\n\r\n        // Fake data\r\n        /*setBusinessData(\r\n            {\"address\": \"address\", \r\n            \"business_id\": business_id,\r\n            \"categories\": \"categories\",\r\n            \"city\": \"city\",\r\n            \"hours\": \"hours\",\r\n            \"latitude\": 37.7749,\r\n            \"longitude\": -122.4194,\r\n            \"name\": \"name\",\r\n            \"photo\": \"http://blog.caesars.com/las-vegas/wp-content/uploads/2019/04/favorite-bistro-patio2-720x540.jpg\",\r\n            \"postal_code\": \"postalcode\",\r\n            \"review_count\": 10,\r\n            \"stars\": 4,\r\n            \"state\": \"state\" }\r\n        );*/\r\n\r\n    }, [business_id]);\r\n\r\n\r\n    // handle getPrediction click\r\n    const getPredictionClick = () => {\r\n        // set current loading state to true\r\n        setLoading(true);\r\n        // fetch predict from API -> save current prediction -> set loading to false\r\n        fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/predict', {mode: 'cors', method: \"POST\", body: JSON.stringify({\"text\": currText}), headers: { \"Content-Type\": \"application/json\"} }).then(res => res.json()).then(data => {\r\n            setCurrPrediction(data[\"ratings\"]);\r\n            setCurrPredictionProba(data[\"proba\"].map(proba => parseFloat((proba*100).toFixed(1))));  //returns back decimals need to multiply by 100 and round to 1 decimal \r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    // handle post review\r\n    const handlePostReview = () => {\r\n        // if user_id is currently null -> not allowed to post review\r\n        if (user_id === \"null\" || starval === 0 || currText === \"\"){\r\n            setIsOpenDialog(true);\r\n        } else {\r\n            // post user review to database\r\n            const currdate = new Date();\r\n            const posting_data = {\r\n                \"business_id\": business_id,\r\n                \"cool\": 0,\r\n                \"date\": currdate.getFullYear() + \"-\" +(currdate.getMonth()+1) + \"-\" + currdate.getDate() + \" \" + currdate.getHours() + \":\" + currdate.getMinutes() + \":\" + currdate.getSeconds(),\r\n                \"funny\": 0,\r\n                \"id\": 9999,\r\n                \"rating\": starval,\r\n                \"text\": currText,\r\n                \"useful\": 0,\r\n                \"user_id\": user_id\r\n            }\r\n\r\n            fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/postreview', {mode: 'cors', method: \"POST\", body: JSON.stringify(posting_data), headers: { \"Content-Type\": \"application/json\"} }).then(res => res.json()).then(data => {\r\n                history.push(`/business/${business_id}`);\r\n            });\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            {/*######################### Header ###################*/}\r\n            <div className = \"header\">\r\n                <Link to='/'>\r\n                    <img src = {yelp_logo} alt = \"logo\" />\r\n                </Link>\r\n                <h2>Write a Review</h2>\r\n            </div>\r\n            <Grid container spacing={0}>\r\n                <Grid item xs={1} sm={2}>\r\n                </Grid>\r\n                {/*######################### Post Review Card ###################*/}\r\n                <Grid item xs={10} sm={8}>\r\n                    <Link to={`/business/${business_data.business_id}`}>\r\n                        <h2 className=\"businessNameLink\">{business_data.name}</h2>\r\n                    </Link>\r\n                    {/*######################### Interactive Stars, review text, and post button area ###################*/}\r\n                    <Card>\r\n                        <div className=\"inputTextCardContents\">\r\n                            <h2>Rate it! </h2>\r\n                            <div className=\"starsAndButton\">\r\n                                <ReactStarsRating onChange={starsOnChange} value={starval} isHalf={false} \r\n                                            primaryColor={\"white\"} secondaryColor={\"#adadad\"} starGap={3} size={30} className=\"starsInputButton\"/>\r\n                                {/*<Link to={`/business/${business_data.business_id}`}>*/}\r\n                                    <Button style={{background: \"#f43939\", color: \"white\", marginLeft: \"30px\"}} onClick={handlePostReview}>Post Review</Button>\r\n                                {/*</Link>*/}\r\n                            </div>\r\n                            <h3 style={{marginTop: \"20px\", marginBottom: \"20px\"}}>{\"Rated: \" + starval + \" Stars\"}</h3>\r\n                            <textarea type=\"text\" value={currText} onChange = {textOnChange} placeholder=\"Input your reviews here!\" \r\n                                        className=\"inputTextField\" />\r\n                        </div>\r\n                    </Card>\r\n                    {/*######################### Prediction Card Area ###################*/}\r\n                    <Card>\r\n                        <div className=\"inputTextCardContents\">\r\n                            <h2>Review Predictions </h2>\r\n                            <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                                <Button style={{backgroundColor: \"#f43939\", color: \"white\", marginRight: \"20px\"}} onClick={getPredictionClick}>Get Prediction</Button>\r\n                                {(isLoading) ? <CircularProgress color=\"secondary\" size=\"2rem\"/> : <div></div>} \r\n                            </div>\r\n                            <h3 style={{marginTop: \"20px\"}}>{\"Ratings Predicted: \" + currPrediction}</h3>\r\n                            <h3 style={{marginTop: \"20px\"}}>Probabilities: </h3>\r\n                            <div className=\"predictedProba\">\r\n                                <img src={five} alt=\"5* rating\" className=\"starsStyleImage\" />\r\n                                <Box width=\"100%\" mr={1}>\r\n                                    <LinearProgress variant=\"determinate\" value={currPredictionProba[4]} color=\"secondary\" style={{backgroundColor: \"#d3d3d3\"}}/>\r\n                                </Box>\r\n                                <Box minWidth={35}>\r\n                                    <p>{currPredictionProba[4] + \"%\"}</p>\r\n                                </Box>\r\n                            </div>\r\n                            <div className=\"predictedProba\">\r\n                                <img src={four} alt=\"4* rating\" className=\"starsStyleImage\" />\r\n                                <Box width=\"100%\" mr={1}>\r\n                                    <LinearProgress variant=\"determinate\" value={currPredictionProba[3]} color=\"secondary\" style={{backgroundColor: \"#d3d3d3\"}}/>\r\n                                </Box>\r\n                                <Box minWidth={35}>\r\n                                    <p>{currPredictionProba[3] + \"%\"}</p>\r\n                                </Box>\r\n                            </div>\r\n                            <div className=\"predictedProba\">\r\n                                <img src={three} alt=\"3* rating\" className=\"starsStyleImage\" />\r\n                                <Box width=\"100%\" mr={1}>\r\n                                    <LinearProgress variant=\"determinate\" value={currPredictionProba[2]} color=\"secondary\" style={{backgroundColor: \"#d3d3d3\"}}/>\r\n                                </Box>\r\n                                <Box minWidth={35}>\r\n                                    <p>{currPredictionProba[2] + \"%\"}</p>\r\n                                </Box>\r\n                            </div>\r\n                            <div className=\"predictedProba\">\r\n                                <img src={two} alt=\"2* rating\" className=\"starsStyleImage\" />\r\n                                <Box width=\"100%\" mr={1}>\r\n                                    <LinearProgress variant=\"determinate\" value={currPredictionProba[1]} color=\"secondary\" style={{backgroundColor: \"#d3d3d3\"}}/>\r\n                                </Box>\r\n                                <Box minWidth={35}>\r\n                                    <p>{currPredictionProba[1] + \"%\"}</p>\r\n                                </Box>\r\n                            </div>\r\n                            <div className=\"predictedProba\">\r\n                                <img src={one} alt=\"1* rating\" className=\"starsStyleImage\" />\r\n                                <Box width=\"100%\" mr={1}>\r\n                                    <LinearProgress variant=\"determinate\" value={currPredictionProba[0]} color=\"secondary\" style={{backgroundColor: \"#d3d3d3\"}}/>\r\n                                </Box>\r\n                                <Box minWidth={35}>\r\n                                    <p>{currPredictionProba[0] + \"%\"}</p>\r\n                                </Box>\r\n                            </div>\r\n                        </div>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={1} sm={2}>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {/*########################## Dialog to post review without logging in ##################### */}\r\n            <Dialog open={isopenDialog} onClose={handleClose}>\r\n                <DialogTitle id=\"alert-dialog-title\">{\"Error, Please check one of the following!\"}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        1) Please login in order to be able to post reviews!\r\n                    </DialogContentText>\r\n                    <DialogContentText>\r\n                        2) Review Stars must range from 1 to 5!\r\n                    </DialogContentText>\r\n                    <DialogContentText>\r\n                        3) Review Text cannot be empty!\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\" autoFocus> Close </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n        </div>\r\n    );\r\n}\r\n  \r\nexport default WriteAReview;\r\n","import React, {useState} from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport { useForm } from \"react-hook-form\";\r\n\r\n// components and CSS\r\nimport './login.css';\r\n\r\n// images imports\r\nimport yelp_logo from '../images/yelp_logo.png';\r\nimport login_image from '../images/login_image.png';\r\n\r\n// Material UI imports\r\nimport {Grid, Button, TextField } from '@material-ui/core';\r\n\r\n\r\nfunction Login(props){\r\n\r\n    // use History to redirect to home page after login\r\n    const history = useHistory();\r\n\r\n    // hooks for submit form\r\n    const {register, handleSubmit} = useForm()\r\n\r\n    // handle email and password error message and error state\r\n    const [errorMsg, setErrorMsg] = useState({\"email\": \"\", \"password\": \"\"})\r\n    const [errorState, setErrorState] = useState({\"email\": false, \"password\": false})\r\n\r\n    // method to handle submit button\r\n    const processSubmit = (values) => {\r\n        // checks valid email address pattern. Found on Stackoverflow\r\n        const re = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}/;\r\n        \r\n        // validation checks if emails or password is empty or invalid\r\n        if (values.email === \"\" && values.password === \"\"){\r\n            setErrorMsg({\"email\": \"Empty email address\", \"password\": \"Empty password\"});\r\n            setErrorState({\"email\": true, \"password\": true});\r\n        } else if (re.test(values.email) === false && values.password === \"\"){\r\n            setErrorMsg({\"email\": \"Invalid Email address\", \"password\": \"Empty password\"});\r\n            setErrorState({\"email\": true, \"password\": true});\r\n        } else if (values.email === \"\"){\r\n            setErrorMsg({\"email\": \"Empty email address\", \"password\": \"\"});\r\n            setErrorState({\"email\": true, \"password\": false});\r\n        } else if (values.password === \"\"){\r\n            setErrorMsg({\"password\": \"Empty password\"});\r\n            setErrorState({\"email\": false, \"password\": true});\r\n        } else if (re.test(values.email) === false){\r\n            setErrorMsg({\"email\": \"Invalid Email address\", \"password\": \"\"});\r\n            setErrorState({\"email\": true, \"password\": false});\r\n        } else {\r\n            // validate login from server\r\n            fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/authenticateLogin', {mode: 'cors', method: \"POST\", body: JSON.stringify(values), headers: { \"Content-Type\": \"application/json\"} }).then(res => res.json()).then(data => {\r\n                if (data.message === \"Success!\"){\r\n                    // success login\r\n                    // redirect to home and store user_id, and current name\r\n                    history.push(\"/\");\r\n                    sessionStorage.setItem('currname', data.name);\r\n                    sessionStorage.setItem('user_id', data.user_id);\r\n                } else {\r\n                    // try again and send error message\r\n                    setErrorMsg({\"email\": \"Email and Password do not match!\", \"password\": \"Email and Password do not match!\"});\r\n                    setErrorState({\"email\": true, \"password\": true});        \r\n                }\r\n            }).catch(() => {\r\n                console.log(\"Error in fetch authenticateLogin in login.js\");\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/*############################### Header ################################## */}\r\n            <div className=\"loginHeader\">\r\n                <Link to='/'>\r\n                    <img src = {yelp_logo} alt = \"logo\" />\r\n                </Link>\r\n            </div>\r\n            {/*############################### Login Page ################################## */}\r\n            <div>\r\n                <Grid container spacing={0} alignItems=\"center\" justify=\"center\">\r\n                    <Grid item xs={1} sm={1} md={2}>\r\n                    </Grid>\r\n                    {/*############################### Login page column ################################## */}\r\n                    <Grid item xs={11} sm={5} md={4}>\r\n                        <div style={{marginTop: \"20%\"}}>\r\n                            <h2 style={{color: \"#d32323\", marginBottom: \"10px\"}}>Sign in to Yelp</h2>\r\n                            <p style={{marginBottom: \"10px\"}}><strong>New to Yelp? </strong><Link to=\"/signup\"><span>Sign up</span></Link></p>\r\n                            <p style={{fontSize: \"70%\", marginBottom: \"10px\"}}>By logging in, you agree to Yelps Terms of Service and Privacy Policy.</p>\r\n                            \r\n                            {/*############################### Three buttons Apple/FB/GOogle login ################################## */}\r\n                            <div>\r\n                            <Button style={{width: \"18rem\", backgroundColor: \"black\", color: \"white\", marginBottom: \"10px\", marginTop: \"20px\"}}>\r\n                                Sign in with Apple\r\n                            </Button>\r\n                            <Button style={{width: \"18rem\", backgroundColor: \"#1877f2\", color: \"white\", marginBottom: \"10px\"}}>\r\n                                <svg style={{height: \"22px\", width: \"22px\", fill: \"white\", marginRight: \"10px\", marginBottom: \"5px\"}}>\r\n                                    <path d=\"M22 12.06c0-5.522-4.477-10-10-10s-10 4.48-10 10c0 4.992 3.657 9.13 8.437 9.88v-6.99h-2.54v-2.89h2.54v-2.2c0-2.507 1.493-3.89 3.778-3.89 1.093 0 2.238.194 2.238.194v2.46h-1.26c-1.243 0-1.63.772-1.63 1.564v1.875h2.773l-.443 2.89h-2.33v6.99C18.343 21.19 22 17.05 22 12.06z\"></path>\r\n                                </svg>\r\n                                Sign in with Facebook\r\n                            </Button>\r\n                            <Button style={{width: \"18rem\", backgroundColor: \"white\", marginBottom: \"10px\"}} variant=\"outlined\">\r\n                                <img style={{marginRight: \"10px\", marginBottom: \"5px\"}} src=\"https://s3-media0.fl.yelpcdn.com/assets/srv0/yelp_styleguide/cae242fd3929/assets/img/structural/24x24_google_rainbow.png\" alt=\"google_logo\"/>\r\n                                Sign in with Google\r\n                            </Button>\r\n                            </div>\r\n\r\n                            {/*############################### Separator line ################################## */}\r\n                            <fieldset className=\"hr-line\">\r\n                                <legend style={{align: \"center\"}}>OR</legend>\r\n                            </fieldset>\r\n\r\n                            {/*############################### Form for login (username/password) ################################## */}\r\n                            <form noValidate onSubmit={handleSubmit(processSubmit)}>\r\n                                <TextField style={{width: \"18rem\", marginTop: \"10px\", marginBottom: \"20px\"}} \r\n                                            name=\"email\" id=\"email\" label=\"Email\" variant=\"outlined\" size=\"small\" \r\n                                            inputRef={register}\r\n                                            error={errorState.email}\r\n                                            helperText={errorMsg.email}\r\n                                />\r\n                                <TextField style={{width: \"18rem\"}} \r\n                                            name=\"password\" id=\"password\" label=\"Password\" variant=\"outlined\" size=\"small\" type=\"password\"\r\n                                            inputRef={register}\r\n                                            error={errorState.password}\r\n                                            helperText={errorMsg.password}\r\n                                />\r\n                                <Button style={{width: \"18rem\", marginTop: \"20px\", backgroundColor: \"#d32323\", color: \"white\"}} variant=\"contained\" type=\"submit\">\r\n                                    Sign In\r\n                                </Button>\r\n                            </form>\r\n                            <p style={{marginBottom: \"10px\", marginTop: \"10px\", paddingLeft: \"10rem\", fontSize: \"80%\"}}>New to Yelp? <Link to=\"/signup\"><span>Sign up</span></Link></p>\r\n                        </div>\r\n                    </Grid>\r\n                    {/*############################### Login Image ################################## */}\r\n                    <Grid item xs={12} sm={6} md={4}>\r\n                        <div style={{alignItems: \"center\", display: \"flex\", justifyContent: \"center\"}}>\r\n                            <img className=\"loginImage\" src = {login_image} alt = \"login_pic\" />\r\n                        </div>\r\n                    </Grid>\r\n                    <Grid item xs={\"auto\"} sm={1} md={2}>\r\n                    </Grid> \r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Login;\r\n\r\n","import React, {useState} from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport { useForm } from \"react-hook-form\";\r\n\r\n// components and CSS\r\nimport './signup.css';\r\n\r\n// images imports\r\nimport yelp_logo from '../images/yelp_logo.png';\r\nimport login_image from '../images/login_image.png';\r\n\r\n// Material UI imports\r\nimport {Grid, Button, TextField } from '@material-ui/core';\r\n\r\n// renders the signup page\r\nfunction Signup(props){\r\n\r\n    // use history hooks to redirect user after successful login\r\n    const history = useHistory();\r\n\r\n    // hooks for submit signup form\r\n    const {register, handleSubmit} = useForm()\r\n\r\n    // handle email and password error message and error state\r\n    const [errorMsg, setErrorMsg] = useState({\"email\": \"\", \"password\": \"\", \"firstname\": \"\", \"lastname\": \"\"})\r\n    const [errorState, setErrorState] = useState({\"email\": false, \"password\": false, \"firstname\": false, \"lastname\": false})\r\n\r\n    // handle submit for signup button\r\n    const processSubmit = (values) => {\r\n        // checks valid email address pattern. Found on Stackoverflow\r\n        const re = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}/;\r\n        \r\n        // check if there are any missing fields\r\n        if (values.email === \"\" && values.password === \"\" && values.firstname === \"\" && values.lastname === \"\"){\r\n            setErrorMsg({\"email\": \"Empty email address\", \"password\": \"Empty password\", \"firstname\": \"Empty firstname\", \"lastname\": \"Empty lastname\"});\r\n            setErrorState({\"email\": true, \"password\": true, \"firstname\": true, \"lastname\": true});\r\n        } else if (values.password === \"\" && values.firstname === \"\" && values.lastname === \"\"){\r\n            setErrorMsg({\"email\": \"\", \"password\": \"Empty password\", \"firstname\": \"Empty firstname\", \"lastname\": \"Empty lastname\"});\r\n            setErrorState({\"email\": false, \"password\": true, \"firstname\": true, \"lastname\": true});\r\n        } else if (values.email === \"\" && values.firstname === \"\" && values.lastname === \"\"){\r\n            setErrorMsg({\"email\": \"Empty email address\", \"password\": \"\", \"firstname\": \"Empty firstname\", \"lastname\": \"Empty lastname\"});\r\n            setErrorState({\"email\": true, \"password\": false, \"firstname\": true, \"lastname\": true});\r\n        } else if (values.email === \"\" && values.password === \"\" && values.lastname === \"\"){\r\n            setErrorMsg({\"email\": \"Empty email address\", \"password\": \"Empty password\", \"firstname\": \"\", \"lastname\": \"Empty lastname\"});\r\n            setErrorState({\"email\": true, \"password\": true, \"firstname\": false, \"lastname\": true});\r\n        } else if (values.email === \"\" && values.password === \"\" && values.firstname === \"\"){\r\n            setErrorMsg({\"email\": \"Empty email address\", \"password\": \"Empty password\", \"firstname\": \"Empty firstname\", \"lastname\": \"\"});\r\n            setErrorState({\"email\": true, \"password\": true, \"firstname\": true, \"lastname\": false});\r\n        }\r\n        \r\n        // if at least first/lastname filled, and email and password is not missing proceed\r\n        // Does check if email/password is missing\r\n        if ((values.firstname !== \"\") || (values.lastname !== \"\")){\r\n            if (re.test(values.email) === false && values.password === \"\"){\r\n                setErrorMsg({\"email\": \"Invalid Email address\", \"password\": \"Empty password\"});\r\n                setErrorState({\"email\": true, \"password\": true});\r\n            } else if (values.email === \"\"){\r\n                setErrorMsg({\"email\": \"Empty email address\", \"password\": \"\"});\r\n                setErrorState({\"email\": true, \"password\": false});\r\n            } else if (values.password === \"\"){\r\n                setErrorMsg({\"password\": \"Empty password\"});\r\n                setErrorState({\"email\": false, \"password\": true});\r\n            } else if (re.test(values.email) === false){\r\n                setErrorMsg({\"email\": \"Invalid Email address\", \"password\": \"\"});\r\n                setErrorState({\"email\": true, \"password\": false});\r\n            } else {\r\n                // validate login from server\r\n                fetch('https://yelp-sentiment-backend-286616.ue.r.appspot.com/signupuser', {mode: 'cors', method: \"POST\", body: JSON.stringify(values), headers: { \"Content-Type\": \"application/json\"} }).then(res => res.json()).then(data => {\r\n                    if (data.message === \"User Added!\"){\r\n                        // success signup\r\n                        // redirect to home, and add user_id andd currname to sessionStorage\r\n                        history.push(\"/\");\r\n                        sessionStorage.setItem('currname', data.name);\r\n                        sessionStorage.setItem('user_id', data.user_id);\r\n                    } else {\r\n                        // try again and display error message\r\n                        setErrorMsg({\"email\": \"Error Please try again\", \"password\": \"Error Please try again\", \"firstname\": \"Error Please try again\", \"lastname\": \"Error Please try again\"});\r\n                        setErrorState({\"email\": true, \"password\": true, \"firstname\": true, \"lastname\": true});     \r\n                    }\r\n                }).catch(() => {\r\n                    console.log(\"Error in validate login form in signupuser.js\");\r\n                });\r\n            }\r\n        } else {\r\n            // try again and display error message\r\n            setErrorMsg({\"email\": \"Error Please try again\", \"password\": \"Error Please try again\", \"firstname\": \"Error Please try again\", \"lastname\": \"Error Please try again\"});\r\n            setErrorState({\"email\": true, \"password\": true, \"firstname\": true, \"lastname\": true});\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/*############################### Header #########################*/}\r\n            <div className=\"loginHeader\">\r\n                <Link to='/'>\r\n                    <img src = {yelp_logo} alt = \"logo\" />\r\n                </Link>\r\n            </div>\r\n            <div>\r\n                {/*############################### Sign up page #########################*/}\r\n                <Grid container spacing={0} alignItems=\"center\" justify=\"center\">\r\n                    <Grid item xs={1} sm={1} md={2}>\r\n                    </Grid>\r\n                    <Grid item xs={11} sm={5} md={4}>\r\n                        <div style={{marginTop: \"20%\"}}>\r\n                            <h2 style={{color: \"#d32323\", marginBottom: \"10px\"}}>Sign Up for Yelp</h2>\r\n                            <p style={{marginBottom: \"10px\"}} ><strong>Connect with great local businesses</strong></p>\r\n                            <p style={{fontSize: \"70%\", marginBottom: \"10px\"}}>By continuing, you agree to Yelps Terms of Service and acknowledge Yelps Privacy Policy.</p>\r\n                            \r\n                            {/*############################### Three buttons  #########################*/}\r\n                            <div>\r\n                            <Button style={{width: \"18rem\", backgroundColor: \"black\", color: \"white\", marginBottom: \"10px\", marginTop: \"20px\"}}>\r\n                                Continue with Apple\r\n                            </Button>\r\n                            <Button style={{width: \"18rem\", backgroundColor: \"#1877f2\", color: \"white\", marginBottom: \"10px\"}}>\r\n                                <svg style={{height: \"22px\", width: \"22px\", fill: \"white\", marginRight: \"10px\", marginBottom: \"5px\"}}>\r\n                                    <path d=\"M22 12.06c0-5.522-4.477-10-10-10s-10 4.48-10 10c0 4.992 3.657 9.13 8.437 9.88v-6.99h-2.54v-2.89h2.54v-2.2c0-2.507 1.493-3.89 3.778-3.89 1.093 0 2.238.194 2.238.194v2.46h-1.26c-1.243 0-1.63.772-1.63 1.564v1.875h2.773l-.443 2.89h-2.33v6.99C18.343 21.19 22 17.05 22 12.06z\"></path>\r\n                                </svg>\r\n                                Continue with Facebook\r\n                            </Button>\r\n                            <Button style={{width: \"18rem\", backgroundColor: \"white\", marginBottom: \"10px\"}} variant=\"outlined\">\r\n                                <img style={{marginRight: \"10px\", marginBottom: \"5px\"}} src=\"https://s3-media0.fl.yelpcdn.com/assets/srv0/yelp_styleguide/cae242fd3929/assets/img/structural/24x24_google_rainbow.png\" alt=\"google_logo\"/>\r\n                                Continue with Google\r\n                            </Button>\r\n                            </div>\r\n\r\n                            <p style={{fontSize: \"70%\", marginBottom: \"10px\", marginTop: \"10px\"}}>Don't worry, we never post without your permission.</p>\r\n                            \r\n                            {/*############################### Divider Line  ######################################*/}\r\n                            <fieldset className=\"hr-line\">\r\n                                <legend style={{align: \"center\"}}>OR</legend>\r\n                            </fieldset>\r\n\r\n                            {/*############################### Signup Form  #########################*/}\r\n                            <form noValidate onSubmit={handleSubmit(processSubmit)}>\r\n                                <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                                    <TextField style={{width: \"9rem\", marginTop: \"10px\", marginBottom: \"10px\"}} \r\n                                                name=\"firstname\" id=\"firstname\" label=\"First Name\" variant=\"outlined\" size=\"small\" \r\n                                                inputRef={register}\r\n                                                error={errorState.firstname}\r\n                                                helperText={errorMsg.firstname}\r\n                                    />\r\n                                    <TextField style={{width: \"9rem\", marginTop: \"10px\", marginBottom: \"10px\"}} \r\n                                                name=\"lastname\" id=\"lastname\" label=\"Last Name\" variant=\"outlined\" size=\"small\"\r\n                                                inputRef={register}\r\n                                                error={errorState.lastname}\r\n                                                helperText={errorMsg.lastname}\r\n                                    />\r\n                                </div>\r\n                                <TextField style={{width: \"18rem\", marginTop: \"10px\", marginBottom: \"20px\"}} \r\n                                            name=\"email\" id=\"email\" label=\"Email\" variant=\"outlined\" size=\"small\" \r\n                                            inputRef={register}\r\n                                            error={errorState.email}\r\n                                            helperText={errorMsg.email}\r\n                                />\r\n                                <TextField style={{width: \"18rem\"}} \r\n                                            name=\"password\" id=\"password\" label=\"Password\" variant=\"outlined\" size=\"small\" type=\"password\"\r\n                                            inputRef={register}\r\n                                            error={errorState.password}\r\n                                            helperText={errorMsg.password}\r\n                                />\r\n                                <p style={{fontSize: \"70%\", marginBottom: \"10px\", marginTop: \"20px\", paddingRight: \"2rem\"}}>You also understand that Yelp may send marketing emails about Yelps products, services, and local events. You can unsubscribe at any time.</p>\r\n                                <Button style={{width: \"18rem\", marginTop: \"20px\", backgroundColor: \"#d32323\", color: \"white\"}} variant=\"contained\" type=\"submit\">\r\n                                    Sign Up\r\n                                </Button>\r\n                            </form>\r\n                            <p style={{marginBottom: \"10px\", marginTop: \"10px\", paddingLeft: \"10rem\", fontSize: \"80%\"}}>Already on Yelp? <Link to=\"/login\"><span>Log in</span></Link></p>\r\n                        </div>\r\n                    </Grid>\r\n\r\n                    {/*############################### Signup Image  #########################*/}\r\n                    <Grid item xs={12} sm={6} md={4}>\r\n                        <div style={{alignItems: \"center\", display: \"flex\", justifyContent: \"center\"}}>\r\n                            <img className=\"loginImage\" src = {login_image} alt = \"login_pic\" />\r\n                        </div>\r\n                    </Grid>\r\n                    <Grid item xs={\"auto\"} sm={1} md={2}>\r\n                    </Grid> \r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Signup;\r\n\r\n","import React from 'react';\r\nimport {BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\r\n\r\n// components\r\nimport Home from './home';\r\nimport Users from './users';\r\nimport Business from './business';\r\nimport WriteAReview from './writeareview';\r\nimport Login from './login';\r\nimport Signup from './signup';\r\n\r\n\r\n// specifies URL and routes to all the pages and parameters\r\nclass Main extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={() => <Home />} />\r\n                    <Route path=\"/users/:id\" render={(routerProps) => <Users rp={routerProps}/>} />\r\n                    <Route path=\"/business/:id\" render = {routerProps => <Business rp={routerProps} />}/>\r\n                    <Route path=\"/writeareview/:bid/:uid\" render = {routerProps => <WriteAReview rp={routerProps} />}/>\r\n                    <Route path=\"/login\" component={() => <Login />} />\r\n                    <Route path=\"/signup\" component={() => <Signup />} />\r\n                    <Redirect to ='/' />\r\n                </Switch>\r\n            </Router> \r\n        )\r\n    }\r\n}\r\n\r\nexport default Main;","import React from 'react';\nimport Main from './components/maincomponent';\nimport './App.css';\n\nclass App extends React.Component {\n\trender(){\n\t\treturn (\n\t\t\t<Main />\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/yelp_logo.163d4731.png\";","module.exports = __webpack_public_path__ + \"static/media/five.096c927d.JPG\";","module.exports = __webpack_public_path__ + \"static/media/four.f470c6d8.JPG\";","module.exports = __webpack_public_path__ + \"static/media/three.ef3da330.JPG\";","module.exports = __webpack_public_path__ + \"static/media/two.983a5107.JPG\";","module.exports = __webpack_public_path__ + \"static/media/one.7fbda163.JPG\";","module.exports = __webpack_public_path__ + \"static/media/four_half.abb667f5.JPG\";","module.exports = __webpack_public_path__ + \"static/media/three_half.39f66068.JPG\";","module.exports = __webpack_public_path__ + \"static/media/two_half.aa3df642.JPG\";","module.exports = __webpack_public_path__ + \"static/media/one_half.8d2b1eb1.JPG\";","module.exports = __webpack_public_path__ + \"static/media/zero.2781a1e9.JPG\";","module.exports = __webpack_public_path__ + \"static/media/login_image.7922e77f.png\";","module.exports = __webpack_public_path__ + \"static/media/background_image.eea3522f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/yelp_icon.9f5bbd3c.png\";"],"sourceRoot":""}